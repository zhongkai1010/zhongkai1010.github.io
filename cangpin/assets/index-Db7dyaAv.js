import{_ as ye}from"./index-Bp4LVi3T.js";import{d as O,r as w,K as q,g4 as _e,U as be,g5 as ke,L as we,q as $,o as m,e as s,a8 as T,u as P,a7 as W,a2 as ne,F as L,v as j,c as N,w as n,b as o,t as F,i as u,aD as A,p as J,bD as $e,f as Ce,a6 as se,bE as oe,bI as Me,aN as le,E as he,bg as Re}from"./index-CdfaqyVI.js";import{_ as U}from"./index-BI_KGlxM.js";import{E as ze,a as Ie}from"./col-QuPy4hml.js";import{E as De,a as Se}from"./carousel-item-0yaCNYvd.js";import"./throttle-C3MTKK1V.js";function Ee(R,c,b){const p=b*(Math.PI/180),r=Math.cos(p),l=Math.sin(p),t=Math.abs(R*r)+Math.abs(c*l),C=Math.abs(R*l)+Math.abs(c*r);return{width:t,height:C}}const Le={src:String,markers:Array,contentStyle:Object,imageStyle:Object,zoomStep:{type:Number,default:10},zoomMin:{type:Number,default:20},zoomMax:{type:Number,default:400},rotateStep:{type:Number,default:90}},Ve={contentClick:R=>!0,contentContextmenu:R=>!0},Te=["src"],Z=O({name:"EleViewer",__name:"index",props:Le,emits:Ve,setup(R,{expose:c,emit:b}){const p=R,r=b,l=w(null),t=w(null),C=w(null),y=w(!1),f=w(0),i=w(0),e=w(100),v=w(!1),M=w(!1),_=w(0),k=q(()=>{const a=v.value?-1:1,x=M.value?-1:1;return`scaleX(${a}) scaleY(${x}) rotate(${_.value}deg)`}),d=q(()=>(100/e.value).toFixed(6)),I=q(()=>{const a=v.value?-1:1,x=M.value?-1:1;return`scaleX(${a}) scaleY(${x}) rotate(${360-_.value}deg)`}),z=a=>{r("contentClick",a)},E=a=>{r("contentContextmenu",a)},B=()=>{H()},K=()=>p.zoomStep,G=()=>{e.value>=p.zoomMax||(e.value+=K())},Q=()=>{e.value<=p.zoomMin||(e.value-=K())},ae=()=>{v.value=!v.value},ie=()=>{M.value=!M.value},re=()=>{if(_.value===0){_.value=360-p.rotateStep;return}if(_.value<=p.rotateStep){_.value=0;return}_.value-=p.rotateStep},de=()=>{if(_.value>=360-p.rotateStep){_.value=0;return}_.value+=p.rotateStep},ue=a=>{f.value=a},pe=a=>{i.value=a},H=()=>{const a=l.value,x=(a==null?void 0:a.offsetWidth)||0,g=(a==null?void 0:a.offsetHeight)||0,h=t.value,D=(h==null?void 0:h.offsetWidth)||0,S=(h==null?void 0:h.offsetHeight)||0;f.value=Math.floor((x-D)/2),i.value=Math.floor((g-S)/2);const{width:V,height:ge}=Ee(D,S,_.value);e.value=Math.min(x/V*100,g/ge*100)},fe=()=>{const a=l.value,x=(a==null?void 0:a.offsetWidth)||0,g=(a==null?void 0:a.offsetHeight)||0,h=t.value,D=(h==null?void 0:h.offsetWidth)||0,S=(h==null?void 0:h.offsetHeight)||0;e.value=x/D*100;const V=S*(e.value/100);f.value=Math.floor((x-D)/2),V<g?i.value=Math.floor((g-S)/2):i.value=Math.floor((V-S)/2)},ve=()=>{const a=l.value,x=(a==null?void 0:a.offsetWidth)||0,g=(a==null?void 0:a.offsetHeight)||0,h=t.value,D=(h==null?void 0:h.offsetWidth)||0,S=(h==null?void 0:h.offsetHeight)||0;e.value=g/S*100;const V=D*(e.value/100);V<x?f.value=Math.floor((x-D)/2):f.value=Math.floor((V-D)/2),i.value=Math.floor((g-S)/2)},ce=()=>{v.value=!1,M.value=!1,_.value=0,H()};let X=null,Y=null;const{handleMousedown:ee,handleTouchstart:te}=_e({start:({e:a})=>{a.preventDefault(),a.stopPropagation(),y.value=!0,X=f.value,Y=i.value},move:({distanceX:a,distanceY:x,e:g})=>{X==null||Y==null||a==null||x==null||(g.preventDefault(),g.stopPropagation(),f.value=Math.floor(a+X),i.value=Math.floor(x+Y))},end:()=>{X=null,Y=null,y.value=!1},touchmoveOptions:{passive:!1}}),{bindMousewheel:me,unbindMousewheel:xe}=ke(({e:a,direction:x})=>{if(a.preventDefault(),a.stopPropagation(),x==="up"){G();return}Q()});return be(()=>{l.value&&me(l.value),H()}),we(()=>{l.value&&xe(l.value)}),c({viewerMoving:y,viewerTranslateX:f,viewerTranslateY:i,viewerScale:e,viewerFlipX:v,viewerFlipY:M,viewerRotate:_,zoomIn:G,zoomOut:Q,flipX:ae,flipY:ie,rotateLeft:re,rotateRight:de,setTranslateX:ue,setTranslateY:pe,autoIntoView:H,autoIntoViewWidth:fe,autoIntoViewHeight:ve,reset:ce}),(a,x)=>(m(),$("div",{ref_key:"viewerRef",ref:l,class:W(["ele-viewer"])},[s("div",{ref_key:"bodyRef",ref:t,class:"ele-viewer-body",style:T({transform:`translate(${f.value}px, ${i.value}px)`})},[s("div",{class:"ele-viewer-main",style:T({transform:`scale(${(e.value/100).toFixed(6)})`})},[s("div",{ref_key:"contentRef",ref:C,class:W(["ele-viewer-content",{"is-moving":y.value}]),style:T([a.contentStyle||{},{transform:k.value}]),onMousedown:x[0]||(x[0]=(...g)=>P(ee)&&P(ee)(...g)),onTouchstart:x[1]||(x[1]=(...g)=>P(te)&&P(te)(...g)),onClick:z,onContextmenu:E},[a.src?(m(),$("img",{key:0,src:a.src,class:"ele-viewer-image",style:T(a.imageStyle),onLoad:B},null,44,Te)):(m(),$("div",{key:1,class:"ele-viewer-image",style:T(a.imageStyle)},[ne(a.$slots,"default")],4)),(m(!0),$(L,null,j(a.markers,g=>(m(),$("div",{key:g.key,style:T({left:(g.x||0)+"px",top:(g.y||0)+"px",transform:g.fixed?`scale(${d.value})`:void 0}),class:"ele-viewer-marker"},[s("div",{class:"ele-viewer-marker-content",style:T({transform:g.fixed?I.value:void 0})},[ne(a.$slots,"markerItem",{item:g})],4)],4))),128))],38)],4)],4)],512))}}),Pe={key:0,class:"marker-watermark"},Be={key:1,class:"marker-item"},je={style:{"margin-top":"12px"}},Fe=O({__name:"demo-basic",setup(R){const c=w([{key:1,x:455,y:328,fixed:!0,text:"找同款吊灯"},{key:2,x:142,y:808,fixed:!0,text:"找同款挂画"},{key:3,x:908,y:1360,text:"我会跟随缩放"}]),b=w(null),p=r=>{b.value&&b.value[r]()};return(r,l)=>{const t=Z,C=A,y=U;return m(),N(y,{header:"基础用法"},{default:n(()=>[o(t,{ref_key:"viewerRef",ref:b,src:"https://cdn.eleadmin.com/20200610/pECHMJU.webp",markers:c.value,"rotate-step":45,"zoom-min":10,"image-style":{filter:"grayscale(60%) contrast(120%) saturate(200%)"},style:{height:"560px","max-width":"900px"}},{markerItem:n(({item:f})=>[f.key===3?(m(),$("div",Pe,[s("div",null,F(f.text),1)])):(m(),$("div",Be,[s("div",null,F(f.text),1)]))]),_:1},8,["markers"]),l[12]||(l[12]=s("div",{style:{"margin-top":"12px"}}," 可缩放、拖动、旋转等，可添加跟随缩放旋转和不跟随缩放旋转的标记点 ",-1)),s("div",je,[o(C,{class:"ele-btn-icon",onClick:l[0]||(l[0]=f=>p("zoomIn"))},{default:n(()=>l[6]||(l[6]=[u(" 放大 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[1]||(l[1]=f=>p("zoomOut"))},{default:n(()=>l[7]||(l[7]=[u(" 缩小 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[2]||(l[2]=f=>p("rotateLeft"))},{default:n(()=>l[8]||(l[8]=[u(" 向左旋转 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[3]||(l[3]=f=>p("rotateRight"))},{default:n(()=>l[9]||(l[9]=[u(" 向右旋转 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[4]||(l[4]=f=>p("autoIntoView"))},{default:n(()=>l[10]||(l[10]=[u(" 自适应缩放 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[5]||(l[5]=f=>p("reset"))},{default:n(()=>l[11]||(l[11]=[u(" 重置 ")])),_:1})])]),_:1})}}}),Ne=J(Fe,[["__scopeId","data-v-24580e75"]]),Oe={style:{flex:"auto"}},We=["src"],He={style:{maxWidth:"820px",margin:"0 auto",padding:"0 12px 22px 12px",overflow:"hidden"}},Xe={style:{"text-align":"center",padding:"28px 0 20px 0"}},Ye={style:{color:"#999",fontSize:"13px",background:"#17181B",padding:"22px 0 12px 0"}},Ae={style:{maxWidth:"820px",margin:"0 auto",padding:"0 12px",overflow:"hidden"}},Ue={style:{display:"flex",alignItems:"center",justifyContent:"center",borderTop:"1px solid #333",paddingTop:"12px",marginTop:"22px"}},Ze={key:0,style:{borderLeft:"1px solid #444",height:"12px",margin:"0 12px"}},qe={style:{"margin-top":"12px"}},Je=O({__name:"demo-advanced",setup(R){const c=w([{index:"/index",title:"首页"},{index:"/service",title:"产品和服务"},{index:"/product",title:"解决方案"},{index:"/cases",title:"客户案例"}]),b=w(["https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/L101.0a6f1b83.jpg","https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/L108.d7c6f061.png","https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/L100.98e3daa4.jpg"]),p=w(null),r=l=>{p.value&&p.value[l]()};return(l,t)=>{const C=Se,y=De,f=Ce,i=U,e=Ie,v=ze,M=$e,_=Z,k=A;return m(),N(i,{header:"可自定义任意内容"},{default:n(()=>[o(_,{ref_key:"viewerRef",ref:p,style:{height:"560px","max-width":"900px"}},{default:n(()=>[o(M,{layout:"top","header-menus":c.value,"header-custom-style":{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.04)",paddingRight:"12px",overflow:"hidden"},"header-menu-props":{style:{"--el-color-primary-light-9":"rgba(22, 119, 255, 0.1)"}},"logo-style":{marginLeft:"24px",justifyContent:"flex-start"},"header-menus-style":{margin:"0 0 0 20px"},"menu-scroll-to-active":!1,style:{width:"800px",background:"var(--ele-layout-bg)",pointerEvents:"auto","--ele-header-tool-padding":"10px"}},{logo:n(()=>t[6]||(t[6]=[s("img",{src:Me},null,-1)])),logoTitle:n(()=>t[7]||(t[7]=[s("h1",null,"Ele Admin",-1)])),right:n(()=>[o(P(oe),null,{default:n(()=>t[8]||(t[8]=[u("登录")])),_:1}),o(P(oe),null,{default:n(()=>t[9]||(t[9]=[u("注册")])),_:1})]),default:n(()=>[s("div",Oe,[o(y,{height:"320px",style:{"margin-top":"calc(0px - var(--ele-header-height) - 1px)"}},{default:n(()=>[(m(!0),$(L,null,j(b.value,d=>(m(),N(C,{key:d},{default:n(()=>[s("img",{src:d,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",pointerEvents:"none"},class:"demo-banner-img"},null,8,We)]),_:2},1024))),128))]),_:1}),s("div",He,[s("div",Xe,[o(f,{size:"lg",type:"heading"},{default:n(()=>t[10]||(t[10]=[u("标题标题标题")])),_:1}),o(f,{size:"sm",type:"secondary"},{default:n(()=>t[11]||(t[11]=[u("描述描述描述")])),_:1})]),o(v,{gutter:16},{default:n(()=>[(m(),$(L,null,j(8,d=>o(e,{key:d,md:6,sm:8,xs:12},{default:n(()=>[o(i,{style:{"border-radius":"0","min-height":"140px"}})]),_:2},1024)),64))]),_:1})]),t[12]||(t[12]=s("div",{style:{textAlign:"center",padding:"26px 0",backgroundImage:"url(https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/ZhuceBg.d0ce1f1c.png)",backgroundSize:"100% 100%"}},[s("div",{style:{color:"#fff","font-size":"16px"}}," 文本文本文本文本文本文本文本文本 "),s("div",{style:{width:"88px",margin:"0 auto",padding:"6px 0",borderRadius:"4px",color:"var(--el-color-primary)",marginTop:"12px",background:"#fff",cursor:"pointer"}}," 按钮按钮 ")],-1))]),s("div",Ye,[s("div",Ae,[o(v,{gutter:16},{default:n(()=>[(m(),$(L,null,j(4,d=>o(e,{key:d,sm:6,xs:12},{default:n(()=>t[13]||(t[13]=[s("div",{style:{width:"max-content",margin:"12px auto"}},[s("div",{style:{color:"#fff","font-size":"14px"}},"标题标题"),s("div",{style:{"margin-top":"8px","line-height":"2"}},[s("div",null,"文字文字文字"),s("div",null,"文字文字文字"),s("div",null,"文字文字文字")])],-1)])),_:2},1024)),64))]),_:1}),s("div",Ue,[(m(),$(L,null,j(4,d=>(m(),$(L,{key:d},[t[14]||(t[14]=s("div",null,"文字文字",-1)),d!==4?(m(),$("div",Ze)):se("",!0)],64))),64))])])])]),_:1},8,["header-menus"])]),_:1},512),s("div",qe,[o(k,{class:"ele-btn-icon",onClick:t[0]||(t[0]=d=>r("zoomIn"))},{default:n(()=>t[15]||(t[15]=[u(" 放大 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[1]||(t[1]=d=>r("zoomOut"))},{default:n(()=>t[16]||(t[16]=[u(" 缩小 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[2]||(t[2]=d=>r("rotateLeft"))},{default:n(()=>t[17]||(t[17]=[u(" 向左旋转 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[3]||(t[3]=d=>r("rotateRight"))},{default:n(()=>t[18]||(t[18]=[u(" 向右旋转 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[4]||(t[4]=d=>r("autoIntoView"))},{default:n(()=>t[19]||(t[19]=[u(" 自适应缩放 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[5]||(t[5]=d=>r("reset"))},{default:n(()=>t[20]||(t[20]=[u(" 重置 ")])),_:1})])]),_:1})}}}),Ke={key:0,class:"paper-score"},Ge={class:"paper-score-content"},Qe={class:"paper-score-panel-list"},et=["onClick"],tt={class:"paper-score-panel-list"},nt={class:"paper-score-panel-footer"},ot={key:1,class:"paper-score"},lt={class:"paper-score-content"},st={style:{"margin-top":"12px"}},at=O({__name:"demo-paper",setup(R){const c=w([{key:1,x:1080,y:208,fixed:!0,score:6},{key:1,x:1100,y:980,fixed:!0,score:9}]),b=i=>{const e=c.value.indexOf(i);e!==-1&&c.value.splice(e,1)},p=i=>{var d,I,z;i.preventDefault();let e;const v=(z=(I=(d=y.value)==null?void 0:d.$el)==null?void 0:I.getBoundingClientRect)==null?void 0:z.call(I);if(v){let E=!1,B=!1;v.right-i.clientX<220&&(E=!0),v.bottom-i.clientY<168&&(B=!0),(E||B)&&(E&&B?e="topLeft":B?e="topRight":e="bottomLeft")}const M=i.offsetX,_=i.offsetY,k=c.value.find(E=>E.isPanel);if(k){k.x=M,k.y=_,k.selected=void 0,k.selectedDecimal=!1,k.placement=e,k.key=Date.now();return}c.value.push({key:Date.now(),x:M,y:_,fixed:!0,isPanel:!0,placement:e})},r=i=>{const e=c.value.find(v=>v.isPanel);e&&(e.selected=e.selected===i?void 0:i,e.selected===10&&e.selectedDecimal&&(e.selectedDecimal=!1))},l=()=>{const i=c.value.find(e=>e.isPanel);i&&(i.selected===10&&(i.selected=void 0),i.selectedDecimal=!i.selectedDecimal)},t=()=>{const i=c.value.findIndex(e=>e.isPanel);i!==-1&&c.value.splice(i,1)},C=()=>{var v;const i=c.value.find(M=>M.isPanel);if(i==null||i.selected==null&&!i.selectedDecimal){t();return}const e=((v=i.selected)!=null?v:0)+(i.selectedDecimal?.5:0);c.value.push({key:Date.now(),x:i.x,y:i.y,fixed:!0,score:e}),t()},y=w(null),f=i=>{y.value&&y.value[i]()};return(i,e)=>{const v=A,M=he,_=Z,k=U;return m(),N(k,{header:"用于试卷批阅"},{default:n(()=>[e[18]||(e[18]=s("div",{style:{"margin-bottom":"12px"}},"点击鼠标右键评分",-1)),o(_,{ref_key:"viewerRef",ref:y,src:"https://cdn.eleadmin.com/20200610/pECunlF.jpg",markers:c.value,"image-style":{filter:"contrast(120%)"},style:{height:"560px","max-width":"900px"},onContentContextmenu:p},{markerItem:n(({item:d})=>{var I;return[d.isPanel?(m(),$("div",Ke,[s("div",Ge,[d.selected!=null||d.selectedDecimal?(m(),$(L,{key:0},[s("span",null,F(((I=d.selected)!=null?I:0)+(d.selectedDecimal?.5:0)),1),e[8]||(e[8]=s("span",null,"分",-1))],64)):se("",!0)]),s("div",{class:W(["paper-score-panel",{"is-top-left":d.placement==="topLeft"},{"is-top-right":d.placement==="topRight"},{"is-bottom-left":d.placement==="bottomLeft"}]),onContextmenu:e[0]||(e[0]=le(()=>{},["stop","prevent"]))},[s("div",Qe,[(m(),$(L,null,j(11,z=>s("div",{key:z,class:W([{"is-active":d.selected===z-1}]),onClick:E=>r(z-1)},F(z-1),11,et)),64))]),s("div",tt,[s("div",{class:W([{"is-active":d.selectedDecimal}]),onClick:l}," 0.5 ",2)]),s("div",nt,[o(v,{size:"small",class:"ele-btn-icon",onClick:t},{default:n(()=>e[9]||(e[9]=[u(" 取消 ")])),_:1}),o(v,{type:"primary",size:"small",class:"ele-btn-icon",onClick:C},{default:n(()=>e[10]||(e[10]=[u(" 确定 ")])),_:1})])],34)])):(m(),$("div",ot,[s("div",lt,[s("span",null,F(d.score),1),e[11]||(e[11]=s("span",null,"分",-1))]),o(M,{onClick:z=>b(d),onContextmenu:e[1]||(e[1]=le(()=>{},["stop","prevent"]))},{default:n(()=>[o(P(Re))]),_:2},1032,["onClick"])]))]}),_:1},8,["markers"]),s("div",st,[o(v,{class:"ele-btn-icon",onClick:e[2]||(e[2]=d=>f("zoomIn"))},{default:n(()=>e[12]||(e[12]=[u(" 放大 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[3]||(e[3]=d=>f("zoomOut"))},{default:n(()=>e[13]||(e[13]=[u(" 缩小 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[4]||(e[4]=d=>f("rotateLeft"))},{default:n(()=>e[14]||(e[14]=[u(" 向左旋转 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[5]||(e[5]=d=>f("rotateRight"))},{default:n(()=>e[15]||(e[15]=[u(" 向右旋转 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[6]||(e[6]=d=>f("autoIntoView"))},{default:n(()=>e[16]||(e[16]=[u(" 自适应缩放 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[7]||(e[7]=d=>f("reset"))},{default:n(()=>e[17]||(e[17]=[u(" 重置 ")])),_:1})])]),_:1})}}}),it=J(at,[["__scopeId","data-v-1707c74f"]]),rt={class:"zoo-map-location"},dt={style:{"margin-top":"12px"}},ut=O({__name:"demo-map",setup(R){const c=w(null),b=p=>{c.value&&c.value[p]()};return(p,r)=>{const l=Z,t=A,C=U;return m(),N(C,{header:"用于景区地图"},{default:n(()=>[o(l,{ref_key:"viewerRef",ref:c,src:"https://cdn.chimelong.com/upload/039efd65c3282816/408cbfefc64b04c4.jpg",markers:[{key:1,x:604,y:840,fixed:!0,text:"您的位置"}],"rotate-step":45,"image-style":{filter:"grayscale(60%) contrast(120%) saturate(200%)"},style:{height:"560px","max-width":"900px"}},{markerItem:n(({item:y})=>[s("div",rt,[s("div",null,F(y.text),1)])]),_:1},512),s("div",dt,[o(t,{class:"ele-btn-icon",onClick:r[0]||(r[0]=y=>b("zoomIn"))},{default:n(()=>r[6]||(r[6]=[u(" 放大 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[1]||(r[1]=y=>b("zoomOut"))},{default:n(()=>r[7]||(r[7]=[u(" 缩小 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[2]||(r[2]=y=>b("rotateLeft"))},{default:n(()=>r[8]||(r[8]=[u(" 向左旋转 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[3]||(r[3]=y=>b("rotateRight"))},{default:n(()=>r[9]||(r[9]=[u(" 向右旋转 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[4]||(r[4]=y=>b("autoIntoView"))},{default:n(()=>r[10]||(r[10]=[u(" 自适应缩放 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[5]||(r[5]=y=>b("reset"))},{default:n(()=>r[11]||(r[11]=[u(" 重置 ")])),_:1})])]),_:1})}}}),pt=J(ut,[["__scopeId","data-v-ef1729d4"]]),yt=O({name:"ExtensionViewer",__name:"index",setup(R){return(c,b)=>{const p=ye;return m(),N(p,null,{default:n(()=>[o(Ne),o(Je),o(it),o(pt)]),_:1})}}});export{yt as default};

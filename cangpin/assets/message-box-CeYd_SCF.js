import{d as B,R as C,L as E,U as k,c8 as h,c9 as _,q as M,o as p,c as b,a6 as T,a9 as D,u as m,bg as I,bm as S,bi as $,fa as L,eb as A,eq as N,Z as j,$ as q,aG as v,N as G,e8 as O}from"./index-Cam4GZdG.js";const P={class:"ele-message-box-icon"},U=B({name:"MessageBoxIcon",__name:"message-box-icon",props:{type:String,icon:[String,Object,Function],boxId:String},emits:{boxDestroy:s=>!0,boxMounted:s=>!0},setup(s,{emit:d}){var r;const l=s,y=d,u=(r=C)==null?void 0:r();return E(()=>{y("boxDestroy",l.boxId)}),k(()=>{var o,i;y("boxMounted",{boxId:l.boxId,doClose:(i=(o=u==null?void 0:u.ctx)==null?void 0:o.$root)==null?void 0:i.doClose})}),(o,i)=>h((p(),M("div",P,[s.icon?(p(),b(D(s.icon),{key:0})):s.type==="success"?(p(),b(m(I),{key:1})):s.type==="warning"?(p(),b(m(S),{key:2})):s.type==="error"?(p(),b(m($),{key:3})):s.type==="info"?(p(),b(m(L),{key:4})):T("",!0)],512)),[[_,s.type||s.icon]])}});function F(s){const d=s||document.body,r="ele-message-box-wrapper",l=document.createElement("div");return l.classList.add(r),d.appendChild(l),l}function V(s){var d,r;const l=A(),y=N("messageBox"),u=(r=(d=C)==null?void 0:d())==null?void 0:r.appContext,o={wrapEl:null,isActivated:!0,id:0},i=new Map,x="is-hide";j(()=>{o.isActivated=!0,o.wrapEl&&o.wrapEl.classList.remove(x)}),q(()=>{o.isActivated=!1,o.wrapEl&&o.wrapEl.classList.add(x)}),E(()=>{for(const[t,c]of i)c&&c();i.clear()});const g=t=>{o.id++;const c=`m_${o.id}`,e={...y.value||{},...s||{},...t||{}};e.inner?(e.appendTo==null&&l.modalsEl!=null?(o.wrapEl==null&&(o.wrapEl=F(l.modalsEl)),e.appendTo=o.wrapEl):e.appendTo!=null&&(e.appendTo=m(e.appendTo)),e.lockScroll=!1):e.appendTo!=null&&(e.appendTo=m(e.appendTo));const n=["ele-message-box"];return e.customClass&&n.push(e.customClass),e.customClass=n.join(" "),e.icon=G(U,{type:e.type,icon:e.icon,boxId:c,onBoxDestroy:a=>{a&&i.delete(a)},onBoxMounted:({boxId:a,doClose:w})=>{a&&i.set(a,w)}}),O(e,["inner"])},f=function(t){return v(g(t),u)};return f.alert=function(t,c,e,n){const a=n!=null?n:u;return v.alert(t,c,g(e),a)},f.confirm=function(t,c,e,n){const a=n!=null?n:u;return v.confirm(t,c,g(e),a)},f.prompt=function(t,c,e,n){const a=n!=null?n:u;return v.prompt(t,c,g(e),a)},f.close=function(){return v.close()},f}export{V as u};

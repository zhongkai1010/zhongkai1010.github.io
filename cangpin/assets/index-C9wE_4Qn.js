import{d as q,r as b,J as s,p as v,o as t,c as h,a5 as p,b as j,F as M,q as D,w as n,a1 as f,a7 as k,u as g,ac as z,e as N,t as F,bR as A,f as R,a6 as I}from"./index-D0yT1AcU.js";const T={data:{type:Array,required:!0},maxCount:Number,shape:String,size:[Number,String],itemStyle:Object,avatarStyle:Object,moreStyle:Object,tooltip:{type:Boolean,default:!0},tooltipProps:Object,overflowPopover:{type:Boolean,default:!0},overflowPopoverProps:Object,hoverOpen:Boolean},H={itemClick:c=>!0,moreClick:()=>!0,error:c=>!0},J={class:"ele-avatar-more-inner"},U={key:0,class:"ele-popover-body ele-avatar-group"},Q=q({name:"EleAvatarGroup",__name:"index",props:T,emits:H,setup(c,{emit:V}){const a=c,d=V,w=b(""),S=b(),P=b(!1),m=s(()=>{if(a.size==null||typeof a.size=="string"){const e={large:"-12px",default:"-10px",small:"-8px"};return{marginLeft:a.size?e[a.size]:"-10px"}}return typeof a.size=="number"&&a.size>=0?{marginLeft:`${-Math.round(a.size/3)}px`}:{}}),u=s(()=>a.maxCount!=null&&a.maxCount>0&&a.data!=null&&a.data.length>a.maxCount),G=s(()=>a.data==null?[]:u.value?a.data.slice(0,a.maxCount):a.data),$=s(()=>!u.value||!a.data||a.maxCount==null?0:a.data.length-a.maxCount),y=s(()=>a.data==null||!u.value?[]:a.data.slice(a.maxCount)),E=(e,i)=>{a.tooltip&&e.label&&(S.value=i.currentTarget,w.value=e.label)},O=e=>{d("itemClick",e)},L=()=>{d("moreClick")},B=e=>{d("error",e)};return(e,i)=>(t(),v("div",{class:I(["ele-avatar-group",{"is-hover-open":e.hoverOpen}])},[(t(!0),v(M,null,D(G.value,(o,C)=>{var l;return t(),h(g(z),{key:(l=o.key)!=null?l:C+"-"+(o.value||o.label),size:e.size,shape:e.shape,src:o.value,style:k([m.value,e.itemStyle,e.avatarStyle]),onClick:r=>O(o),onError:r=>B({item:o,e:r}),onMouseover:r=>E(o,r)},{default:n(()=>[e.$slots.item?f(e.$slots,"item",{key:0,item:o}):p("",!0)]),_:2},1032,["size","shape","src","style","onClick","onError","onMouseover"])}),128)),u.value?(t(),h(R,A({key:0,effect:"light",isPopover:!0,gpuAcceleration:!0,placement:"top",popperClass:"ele-avatar-popover",offset:6},e.overflowPopoverProps||{},{disabled:!e.overflowPopover,visible:P.value,"onUpdate:visible":i[0]||(i[0]=o=>P.value=o)}),{body:n(()=>[e.overflowPopover?(t(),v("div",U,[f(e.$slots,"overflow",{overflowData:y.value},()=>[(t(!0),v(M,null,D(y.value,(o,C)=>{var l;return t(),h(g(z),{key:(l=o.key)!=null?l:C+"-"+(o.value||o.label),size:e.size,shape:e.shape,src:o.value,style:k([m.value,e.itemStyle,e.avatarStyle]),onClick:r=>O(o),onError:r=>B({item:o,e:r}),onMouseover:r=>E(o,r)},{default:n(()=>[e.$slots.item?f(e.$slots,"item",{key:0,item:o}):p("",!0)]),_:2},1032,["size","shape","src","style","onClick","onError","onMouseover"])}),128))])])):p("",!0)]),default:n(()=>[j(g(z),{size:e.size,shape:e.shape,style:k([m.value,e.itemStyle,e.moreStyle]),class:"ele-avatar-more",onClick:L},{default:n(()=>[N("span",J,[f(e.$slots,"more",{overflowCount:$.value,overflowData:y.value},()=>[N("span",null,"+"+F($.value),1)])])]),_:3},8,["size","shape","style"])]),_:3},16,["disabled","visible"])):p("",!0),j(R,A({placement:"top",offset:6},e.tooltipProps||{},{content:w.value,virtualRef:S.value,virtualTriggering:!0}),null,16,["content","virtualRef"])],2))}});export{Q as _};

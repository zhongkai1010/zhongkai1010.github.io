import{d as B,Q as E,K as C,T as k,c6 as h,c7 as M,p as T,o as p,c as b,a5 as _,a8 as D,u as m,bd as I,bj as S,bf as $,fb as A,ed as L,er as j,Y as N,Z as O,aE as v,M as P,ea as F}from"./index-D0yT1AcU.js";const G={class:"ele-message-box-icon"},K=B({name:"MessageBoxIcon",__name:"message-box-icon",props:{type:String,icon:[String,Object,Function],boxId:String},emits:{boxDestroy:s=>!0,boxMounted:s=>!0},setup(s,{emit:d}){var r;const l=s,y=d,u=(r=E)==null?void 0:r();return C(()=>{y("boxDestroy",l.boxId)}),k(()=>{var o,i;y("boxMounted",{boxId:l.boxId,doClose:(i=(o=u==null?void 0:u.ctx)==null?void 0:o.$root)==null?void 0:i.doClose})}),(o,i)=>h((p(),T("div",G,[s.icon?(p(),b(D(s.icon),{key:0})):s.type==="success"?(p(),b(m(I),{key:1})):s.type==="warning"?(p(),b(m(S),{key:2})):s.type==="error"?(p(),b(m($),{key:3})):s.type==="info"?(p(),b(m(A),{key:4})):_("",!0)],512)),[[M,s.type||s.icon]])}});function Q(s){const d=s||document.body,r="ele-message-box-wrapper",l=document.createElement("div");return l.classList.add(r),d.appendChild(l),l}function V(s){var d,r;const l=L(),y=j("messageBox"),u=(r=(d=E)==null?void 0:d())==null?void 0:r.appContext,o={wrapEl:null,isActivated:!0,id:0},i=new Map,x="is-hide";N(()=>{o.isActivated=!0,o.wrapEl&&o.wrapEl.classList.remove(x)}),O(()=>{o.isActivated=!1,o.wrapEl&&o.wrapEl.classList.add(x)}),C(()=>{for(const[t,c]of i)c&&c();i.clear()});const g=t=>{o.id++;const c=`m_${o.id}`,e={...y.value||{},...s||{},...t||{}};e.inner?(e.appendTo==null&&l.modalsEl!=null?(o.wrapEl==null&&(o.wrapEl=Q(l.modalsEl)),e.appendTo=o.wrapEl):e.appendTo!=null&&(e.appendTo=m(e.appendTo)),e.lockScroll=!1):e.appendTo!=null&&(e.appendTo=m(e.appendTo));const n=["ele-message-box"];return e.customClass&&n.push(e.customClass),e.customClass=n.join(" "),e.icon=P(K,{type:e.type,icon:e.icon,boxId:c,onBoxDestroy:a=>{a&&i.delete(a)},onBoxMounted:({boxId:a,doClose:w})=>{a&&i.set(a,w)}}),F(e,["inner"])},f=function(t){return v(g(t),u)};return f.alert=function(t,c,e,n){const a=n!=null?n:u;return v.alert(t,c,g(e),a)},f.confirm=function(t,c,e,n){const a=n!=null?n:u;return v.confirm(t,c,g(e),a)},f.prompt=function(t,c,e,n){const a=n!=null?n:u;return v.prompt(t,c,g(e),a)},f.close=function(){return v.close()},f}export{V as u};

import{d as P,bV as R,r as c,$ as h,L as B,q as E,o as l,e as b,b as $,a2 as V,a8 as n,c as a,w as S,a9 as k,u as s,fU as z,bY as g,bU as p,E as j,al as N,g as U,a7 as _,fV as w}from"./index-Cam4GZdG.js";const A={text:String,innerStyle:Object,customStyle:Object,icon:[String,Object,Function],iconProps:Object,iconStyle:Object,copiedIcon:[String,Object,Function],copiedIconProps:Object,copiedIconStyle:Object,tooltip:{type:[Boolean,Object],default:!0},resetAfter:{type:Number,default:1e3},locale:Object},D={copy:y=>!0},q=P({name:"EleCopyable",__name:"index",props:A,emits:D,setup(y,{emit:O}){const r=y,m=O,{lang:f}=R("copyable",r),t={timer:null},d=c(null),i=c(null),v=c(),o=c(!1),u=()=>{i.value&&i.value.updatePopper()},T=()=>{var e;return r.text?r.text:((e=d.value)==null?void 0:e.innerText)||""},C=()=>{w(T()).then(()=>{o.value=!0,u(),t.timer&&clearTimeout(t.timer),t.timer=setTimeout(()=>{o.value=!1,u()},r.resetAfter||1e3),m("copy")}).catch(e=>{o.value=!1,u(),m("copy",e)})},I=e=>{r.tooltip&&(v.value=e.currentTarget)};return h(()=>{t.timer&&clearTimeout(t.timer),t.timer=null,o.value=!1}),B(()=>{t.timer&&clearTimeout(t.timer),t.timer=null}),(e,F)=>(l(),E("div",{class:_(["ele-copyable",{"ele-copyable-done":o.value}])},[b("div",{ref_key:"innerRef",ref:d,class:"ele-copyable-inner",style:n(e.innerStyle)},[V(e.$slots,"default")],4),b("div",{class:"ele-copyable-icon",style:n(e.customStyle),onMouseover:I,onClick:C},[o.value?(l(),a(s(j),g(p({key:0},e.copiedIconProps||{})),{default:S(()=>[e.copiedIcon?(l(),a(k(e.copiedIcon),{key:0,style:n(e.copiedIconStyle)},null,8,["style"])):(l(),a(s(z),{key:1,style:n(e.copiedIconStyle)},null,8,["style"]))]),_:1},16)):(l(),a(s(j),g(p({key:1},e.iconProps||{})),{default:S(()=>[e.icon?(l(),a(k(e.icon),{key:0,style:n(e.iconStyle)},null,8,["style"])):(l(),a(s(N),{key:1,style:n(e.iconStyle)},null,8,["style"]))]),_:1},16))],36),$(U,p({placement:"top",offset:6},!e.tooltip||e.tooltip===!0?{}:e.tooltip,{content:o.value?s(f).copied:s(f).copy,virtualRef:v.value,virtualTriggering:!0,ref_key:"tooltipRef",ref:i}),null,16,["content","virtualRef"])],2))}});export{q as _};

import{_ as k}from"./index-C5fuAxFq.js";import{d as w,aP as $,gx as T,aO as I,r as u,c as V,o as N,w as s,b as i,e as n,t as U,u as r,aJ as C,h as E}from"./index-D0yT1AcU.js";import{_ as K}from"./index-C-4uNQQ4.js";import"./index-DFvHHIXI.js";import"./index-BkoA2sCN.js";import"./index-CgBmqrP9.js";import"./virtual-list-COxu24hZ.js";import"./index-CybbLoLn.js";import"./index-CZBaXWVt.js";import{E as P}from"./link-DFO7MjcD.js";import{_ as S}from"./index-DYf50MRR.js";import{p as W,l as B}from"./index-DUSU1QTw.js";import"./isArrayLikeObject-DbE5rAKf.js";import"./vuedraggable.umd-_mANVixF.js";const L={style:{display:"flex","align-items":"center","margin-top":"16px"}},O={style:{display:"flex","align-items":"center","margin-top":"8px"}},R={style:{flex:"1","max-width":"220px"}},oe=w({name:"ListUsers",__name:"index",setup(z){const{push:_}=$(),{path:p}=T(),{addPageTab:f}=I(),t=p.substring(p.lastIndexOf("/")+1),g=u([{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom",minWidth:120,align:"center"},{prop:"nickname",label:"用户名",sortable:"custom",minWidth:120,align:"center"},{prop:"sexName",label:"性别",sortable:"custom",width:90,align:"center"},{prop:"phone",label:"手机号",sortable:"custom",minWidth:140,align:"center"},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:200,align:"center"},{columnKey:"action",label:"操作",width:160,align:"center",slot:"action",hideInPrint:!0,hideInExport:!0}]),x=({pages:o,orders:e})=>W({...e,...o,sex:t}),c=u(""),m=({orders:o})=>B({...o,sex:t}),b=o=>{const e=`/list/users/details/${t}/${o.userId}`,a=t=="1"?"男":"女";f({title:`${a}用户详情[${o.nickname}]`,key:e,closable:!0,meta:{icon:"LinkOutlined"}}),_(e)};return(o,e)=>{const a=C,d=S,y=P,h=K,v=k;return N(),V(v,null,{default:s(()=>[i(d,null,{default:s(()=>[e[3]||(e[3]=n("div",null," “男用户”页面和“女用户”页面是共用的同一个页面, 通过获取路由参数展示不同的数据, 并且会各自KeepAlive. ",-1)),n("div",L,[e[1]||(e[1]=n("div",{style:{"padding-right":"16px"}},"路由参数",-1)),n("div",null,"sex: "+U(r(t)),1)]),n("div",O,[e[2]||(e[2]=n("div",{style:{"padding-right":"16px"}},"测试KeepAlive",-1)),n("div",R,[i(a,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l),placeholder:"请输入"},null,8,["modelValue"])])])]),_:1}),i(d,{"body-style":{paddingTop:"8px"}},{default:s(()=>[i(h,{ref:"tableRef","row-key":"userId",columns:g.value,datasource:x,"show-overflow-tooltip":!0,"highlight-current-row":!0,pagination:{pageSize:5,pageSizes:[5,10,20]},"export-config":{fileName:(r(t)=="1"?"男":"女")+"用户数据",datasource:m},"print-config":{datasource:m},"cache-key":"listUsersTable-"+r(t)},{action:s(({row:l})=>[i(y,{type:"primary",underline:!1,onClick:A=>b(l)},{default:s(()=>e[4]||(e[4]=[E(" 查看用户详情 ")])),_:2},1032,["onClick"])]),_:1},8,["columns","export-config","print-config","cache-key"])]),_:1})]),_:1})}}});export{oe as default};

import{B as E,aa as pe,ac as F,_ as T,d as N,c as I,r as m,o as v,b as B,i as P,f as w,e as C,h as u,u as i,w as p,F as $,j as z,k as j,E as R,y as ce,R as me,ad as ye,m as ve,n as be,__tla as fe}from"./index.35a750f6.js";let D,he=Promise.all([(()=>{try{return fe}catch{}})()]).then(async()=>{function G(h){const d=E(h),l=r=>d.value.find(a=>a.uid===r),g=r=>d.value.filter(a=>a.parent==r),c=(r,a)=>d.value.filter(n=>n.parent==r&&n.order>=a),o=r=>d.value.findIndex(a=>a.uid===r);let f=1;const V=(r,a)=>{var y;const n={uid:pe(),name:"",displayName:"",type:"string",required:!1,order:r!=null?r:1,array:"string"};if(a){const e=l(a);if(!e)return;n.parent=e.uid,n.parentPath=`${((y=e.parentPath)!=null?y:"").concat(e.uid,",")}`}if(F.isNumber(r))n.order=r+1,c(a,n.order).forEach(e=>{const t=e,b=o(e.uid);t.order+=1,d.value.splice(b,1,t)});else{const e=g(a).length+1;n.order=e}n.name=`field${f}`,n.displayName=`\u5B57\u6BB5\u540D\u79F0${f}`,d.value.push(n),f+=1},k=r=>{const a=d.value.filter(n=>{var y;return(y=n.parentPath)==null?void 0:y.includes(r)}).map(n=>n.uid);a.push(r),a.map(o).forEach(n=>{d.value.splice(n,1)})},_=(r,a)=>{if(!r||!F.isArray(r))return[];const n=[];return g(a).sort((y,e)=>y.order-e.order).forEach(y=>{const e=y;e.children=_(r,e.uid),n.push(e)}),n};return{fields:d,getProperties:_,get:l,getChildren:g,remove:k,add:V}}const H=[{label:"\u5B57\u7B26\u4E32(string)",value:"string"},{label:"\u6570\u5B57(number)",value:"number"},{label:"\u6570\u7EC4(array)",value:"array"},{label:"\u5E03\u5C14(boolean)",value:"boolean"},{label:"\u6574\u6570(intger)",value:"intger"},{label:"\u5BF9\u8C61(object)",value:"object"}],J={class:"container"},K={class:"form-container"},L={class:"operate"},O=j("\u6DFB\u52A0\u5144\u5F1F\u8282\u70B9"),Q=j("\u6DFB\u52A0\u5B50\u8282\u70B9"),S={key:0},W={key:1},X=N({name:"Property",props:{modelValue:null,array:{type:Boolean},property:null,add:{type:Boolean},dropdown:{type:Boolean},disabled:{type:Boolean},root:{type:Boolean},unfold:{type:Boolean},close:{type:Boolean}},emits:["update:modelValue","changeType","remove","add","addChild"],setup(h,{emit:d}){const l=h,{message:g}=ce(),c=E(!0),o=I({get(){return l.modelValue},set(e){d("update:modelValue",e)}}),f=I({get(){var e,t;return{type:(e=l.property.array)!=null?e:"string",children:(t=l.property.children)!=null?t:[],order:1}},set(e){d("update:modelValue",e)}}),V=e=>{d(e==="same"?"add":"addChild",o.value)},k=e=>{var t;l.array&&e==="array"?g("\u6682\u4E0D\u652F\u6301\u4E8C\u7EF4\u6570\u7EC4\uFF01","warning"):(l.array&&d("changeType",e),o.value.type=e,e!=="object"&&((t=o.value.children)==null||t.forEach(b=>{d("remove",b)})),d("update:modelValue",o.value))},_=e=>{l.array?o.value.type=e:o.value.array=e,d("update:modelValue",o.value)},r=e=>{var t,b;((t=l.property)==null?void 0:t.array)=="object"&&((b=l.property)==null?void 0:b.type)=="array"?d("addChild",l.property):d("add",e)},a=e=>d("remove",e),n=e=>d("addChild",e),y=()=>{R("show property",o.value),R("show prorps",l)};return(e,t)=>{const b=m("iconify-icon"),re=m("el-checkbox"),U=m("el-input"),A=m("el-col"),ne=m("el-option"),te=m("el-select"),q=m("el-dropdown-item"),ue=m("el-dropdown-menu"),se=m("el-dropdown");return v(),B("ul",J,[P("div",K,[l.unfold?(v(),w(b,{key:0,icon:c.value?"ic:baseline-expand-more":"ic:baseline-expand-less",onClick:t[0]||(t[0]=s=>c.value=!c.value)},null,8,["icon"])):C("",!0),u(re,{modelValue:i(o).required,"onUpdate:modelValue":t[1]||(t[1]=s=>i(o).required=s),disabled:l.disabled,style:{"margin-right":"5px"}},null,8,["modelValue","disabled"]),u(A,{span:4},{default:p(()=>[u(U,{modelValue:i(o).name,"onUpdate:modelValue":t[2]||(t[2]=s=>i(o).name=s),placeholder:"API\u540D\u79F0",disabled:l.disabled},null,8,["modelValue","disabled"])]),_:1}),u(A,{span:4},{default:p(()=>[u(U,{modelValue:i(o).displayName,"onUpdate:modelValue":t[3]||(t[3]=s=>i(o).displayName=s),placeholder:"\u5B57\u6BB5\u540D\u79F0",disabled:l.disabled},null,8,["modelValue","disabled"])]),_:1}),u(A,{span:4},{default:p(()=>[u(te,{"model-value":l.array?l.property.array:i(o).type,placeholder:"\u5B57\u6BB5\u7C7B\u578B",style:{width:"100%"},disabled:l.root,onChange:k},{default:p(()=>[(v(!0),B($,null,z(i(H),s=>(v(),w(ne,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","disabled"])]),_:1}),u(A,{span:4},{default:p(()=>[u(U,{modelValue:i(o).remark,"onUpdate:modelValue":t[4]||(t[4]=s=>i(o).remark=s),placeholder:"remark",disabled:l.disabled},null,8,["modelValue","disabled"])]),_:1}),P("div",L,[l.add?(v(),w(b,{key:0,onClick:t[5]||(t[5]=s=>d("add",i(o))),icon:"ant-design:plus-outlined",style:{color:"var(--el-color-primary)"},class:"icon"})):C("",!0),l.dropdown?(v(),w(se,{key:1,onCommand:V},{dropdown:p(()=>[u(ue,null,{default:p(()=>[u(q,{command:"same"},{default:p(()=>[O]),_:1}),u(q,{command:"child"},{default:p(()=>[Q]),_:1})]),_:1})]),default:p(()=>[u(b,{icon:"ant-design:plus-outlined",style:{color:"var(--el-color-primary)"},class:"icon"})]),_:1})):C("",!0),l.close?(v(),w(b,{key:2,class:"icon",icon:"ant-design:close-outlined",style:{color:"var(--el-color-danger)"},onClick:t[6]||(t[6]=s=>d("remove",i(o)))})):C("",!0),u(b,{class:"icon",icon:"ant-design:setting-outlined",style:{color:"var(--el-color-success)"},onClick:y})])]),i(o).type==="object"&&c.value?(v(),B("div",S,[(v(!0),B($,null,z(l.modelValue.children,(s,ie)=>(v(),w(x,{key:ie,"model-value":s,array:!1,add:s.type!=="object",dropdown:s.type==="object",disabled:!1,property:s,root:!1,unfold:s.type=="object",close:!0,onAdd:r,onRemove:a,onAddChild:n},null,8,["model-value","add","dropdown","property","unfold"]))),128))])):C("",!0),i(o).type==="array"?(v(),B("div",W,[u(x,{"model-value":i(f),array:!0,property:i(o),root:!1,add:l.property.array==="object",dropdown:!1,disabled:!0,unfold:l.property.array==="object",close:!1,onAdd:r,onChangeType:_,onRemove:a,onAddChild:n},null,8,["model-value","property","add","unfold"])])):C("",!0)])}}});var x=T(X,[["__scopeId","data-v-26d33a38"]]);const Y=N({name:"Field",props:{modelValue:null},emits:["update:modelValue"],setup(h,{emit:d}){const l=h,{getProperties:g,fields:c,add:o,remove:f}=G(l.modelValue),V=I({get(){const a={uid:"root",type:"object",children:g(c.value)};return a.children=g(c.value),a},set(){d("update:modelValue",c.value)}}),k=a=>{a.uid=="root"?o():o(a.order,a.parent)},_=a=>{o(a.order,a.uid)},r=a=>{f(a.uid)};return me([c.value],()=>{d("update:modelValue",c.value)}),(a,n)=>(v(),w(x,{modelValue:i(V),"onUpdate:modelValue":n[0]||(n[0]=y=>ye(V)?V.value=y:null),onAdd:k,onRemove:r,onAddChild:_,root:!0,add:!0,dropdown:!1,disabled:!0,unfold:!0,close:!1},null,8,["modelValue"]))}}),Z=h=>(ve("data-v-d1cb8da6"),h=h(),be(),h),M={class:"header"},ee=Z(()=>P("span",null,"\u52A8\u6001\u8868\u683C",-1)),ae=j("\u914D\u7F6E\u8868\u683C"),le=j("\u67E5\u770B\u6548\u679C"),oe=j("\u67E5\u770B\u914D\u7F6E"),de=N({name:"index",setup(h){const d=E([]),l=()=>R("config",d.value);return(g,c)=>{const o=m("iconify-icon"),f=m("el-button"),V=m("el-form"),k=m("el-card"),_=m("page-view");return v(),w(_,{class:"container",gutter:0,"bg-color":!1},{default:p(()=>[u(k,{shadow:"always"},{header:p(()=>[P("div",M,[u(o,{icon:"ant-design:form-outlined",size:25}),ee,u(f,{type:"primary"},{default:p(()=>[ae]),_:1}),u(f,null,{default:p(()=>[le]),_:1}),u(f,{onClick:l},{default:p(()=>[oe]),_:1})])]),default:p(()=>[u(V,null,{default:p(()=>[u(Y,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=r=>d.value=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});D=T(de,[["__scopeId","data-v-d1cb8da6"]])});export{he as __tla,D as default};

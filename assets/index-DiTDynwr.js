import{_ as Re}from"./index-bKQdkVeu.js";import{aW as Te,d as K,r as U,K as Z,S as R,U as re,L as ue,c as T,o as C,w as M,e as x,a6 as D,q as $,F as J,b as _,u as I,E as q,bS as De,a7 as oe,a8 as F,t as V,b5 as Se,aE as Y,i as N,aL as je,v as Ce,bT as Be,bh as Ne,aF as Ke,bU as ie,V as se,bV as We,bW as qe,bX as Ze,aK as Fe,a2 as Je,bY as He,bZ as Ye,aD as Xe,X as ce,Y as pe,a as Ge,as as Qe,bd as en,b_ as Pe}from"./index-XXV2p779.js";import{E as nn}from"./autocomplete-DGR3f878.js";import{_ as be}from"./index-De8rpVbL.js";import{_ as de}from"./index-B_1-vMac.js";var H={exports:{}},tn=H.exports,Ae;function an(){return Ae||(Ae=1,function(L,E){(function(b,s){L.exports=s()})(tn,function(){function b(t){var i=[];return t.AMapUI&&i.push(s(t.AMapUI)),t.Loca&&i.push(p(t.Loca)),Promise.all(i)}function s(t){return new Promise(function(i,u){var r=[];if(t.plugins)for(var m=0;m<t.plugins.length;m+=1)l.AMapUI.plugins.indexOf(t.plugins[m])==-1&&r.push(t.plugins[m]);if(d.AMapUI===n.failed)u("前次请求 AMapUI 失败");else if(d.AMapUI===n.notload){d.AMapUI=n.loading,l.AMapUI.version=t.version||l.AMapUI.version,m=l.AMapUI.version;var c=document.body||document.head,k=document.createElement("script");k.type="text/javascript",k.src="https://webapi.amap.com/ui/"+m+"/main.js",k.onerror=function(f){d.AMapUI=n.failed,u("请求 AMapUI 失败")},k.onload=function(){if(d.AMapUI=n.loaded,r.length)window.AMapUI.loadUI(r,function(){for(var f=0,S=r.length;f<S;f++){var z=r[f].split("/").slice(-1)[0];window.AMapUI[z]=arguments[f]}for(i();g.AMapUI.length;)g.AMapUI.splice(0,1)[0]()});else for(i();g.AMapUI.length;)g.AMapUI.splice(0,1)[0]()},c.appendChild(k)}else d.AMapUI===n.loaded?t.version&&t.version!==l.AMapUI.version?u("不允许多个版本 AMapUI 混用"):r.length?window.AMapUI.loadUI(r,function(){for(var f=0,S=r.length;f<S;f++){var z=r[f].split("/").slice(-1)[0];window.AMapUI[z]=arguments[f]}i()}):i():t.version&&t.version!==l.AMapUI.version?u("不允许多个版本 AMapUI 混用"):g.AMapUI.push(function(f){f?u(f):r.length?window.AMapUI.loadUI(r,function(){for(var S=0,z=r.length;S<z;S++){var X=r[S].split("/").slice(-1)[0];window.AMapUI[X]=arguments[S]}i()}):i()})})}function p(t){return new Promise(function(i,u){if(d.Loca===n.failed)u("前次请求 Loca 失败");else if(d.Loca===n.notload){d.Loca=n.loading,l.Loca.version=t.version||l.Loca.version;var r=l.Loca.version,m=l.AMap.version.startsWith("2"),c=r.startsWith("2");if(m&&!c||!m&&c)u("JSAPI 与 Loca 版本不对应！！");else{m=l.key,c=document.body||document.head;var k=document.createElement("script");k.type="text/javascript",k.src="https://webapi.amap.com/loca?v="+r+"&key="+m,k.onerror=function(f){d.Loca=n.failed,u("请求 AMapUI 失败")},k.onload=function(){for(d.Loca=n.loaded,i();g.Loca.length;)g.Loca.splice(0,1)[0]()},c.appendChild(k)}}else d.Loca===n.loaded?t.version&&t.version!==l.Loca.version?u("不允许多个版本 Loca 混用"):i():t.version&&t.version!==l.Loca.version?u("不允许多个版本 Loca 混用"):g.Loca.push(function(f){f?u(f):u()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(t){t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed"})(n||(n={}));var l={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},d={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},g={AMapUI:[],Loca:[]},y=[],h=function(t){typeof t=="function"&&(d.AMap===n.loaded?t(window.AMap):y.push(t))};return{load:function(t){return new Promise(function(i,u){if(d.AMap==n.failed)u("");else if(d.AMap==n.notload){var r=t.key,m=t.version,c=t.plugins;r?(window.AMap&&location.host!=="lbs.amap.com"&&u("禁止多种API加载方式混用"),l.key=r,l.AMap.version=m||l.AMap.version,l.AMap.plugins=c||l.AMap.plugins,d.AMap=n.loading,m=document.body||document.head,window.___onAPILoaded=function(f){if(delete window.___onAPILoaded,f)d.AMap=n.failed,u(f);else for(d.AMap=n.loaded,b(t).then(function(){i(window.AMap)}).catch(u);y.length;)y.splice(0,1)[0]()},c=document.createElement("script"),c.type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+l.AMap.version+"&key="+r+"&plugin="+l.AMap.plugins.join(","),c.onerror=function(f){d.AMap=n.failed,u(f)},m.appendChild(c)):u("请填写key")}else if(d.AMap==n.loaded)if(t.key&&t.key!==l.key)u("多个不一致的 key");else if(t.version&&t.version!==l.AMap.version)u("不允许多个版本 JSAPI 混用");else{if(r=[],t.plugins)for(m=0;m<t.plugins.length;m+=1)l.AMap.plugins.indexOf(t.plugins[m])==-1&&r.push(t.plugins[m]);r.length?window.AMap.plugin(r,function(){b(t).then(function(){i(window.AMap)}).catch(u)}):b(t).then(function(){i(window.AMap)}).catch(u)}else if(t.key&&t.key!==l.key)u("多个不一致的 key");else if(t.version&&t.version!==l.AMap.version)u("不允许多个版本 JSAPI 混用");else{var k=[];if(t.plugins)for(m=0;m<t.plugins.length;m+=1)l.AMap.plugins.indexOf(t.plugins[m])==-1&&k.push(t.plugins[m]);h(function(){k.length?window.AMap.plugin(k,function(){b(t).then(function(){i(window.AMap)}).catch(u)}):b(t).then(function(){i(window.AMap)}).catch(u)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,l={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},d={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},g={AMap:[],AMapUI:[],Loca:[]}}}})}(H)),H.exports}var on=an();const me=Te(on),fe={height:{type:String,default:"460px"},center:Array,zoom:{type:Number,default:11},selectedZoom:{type:Number,default:17},poiLimit:{type:Number,default:30},poiType:{type:String,default:""},poiKeywords:{type:String,default:""},poiRadius:{type:Number,default:1e3},returnRegions:Boolean,required:{type:Boolean,default:!0},message:String,suggestionCity:{type:String,default:"全国"},searchPlaceholder:String,markerSrc:{type:String,default:"https://3gimg.qq.com/lightmap/components/locationPicker2/image/marker.png"},mapKey:String,mapVersion:{type:String,default:"2.0"},mapStyle:String,darkMode:Boolean,okText:String,emptyProps:Object,searchStyle:Object,mode:{type:String,default:"poi"},filterable:{type:Boolean,default:!0},clickMessage:String,selected:Object,sideStyle:Object},sn={...fe,modelValue:Boolean,modalProps:Object,responsive:{type:Boolean,default:null},locale:Object,keywordMode:Boolean,headerStyle:Object},ln={done:L=>!0,mapDone:L=>!0,open:()=>!0,closed:()=>!0,"update:modelValue":L=>!0},rn=Object.keys(fe),un={class:"ele-map-view-body"},cn=["src"],pn={class:"ele-map-suggest-item"},dn={class:"ele-map-suggest-title"},mn={class:"ele-map-suggest-text"},fn={key:0,class:"ele-map-view-message"},vn=["onClick"],gn={class:"ele-map-view-item-body"},yn={class:"ele-map-view-item-title"},hn={key:0,class:"ele-map-view-item-text"},_n={key:0,class:"ele-map-view-empty"},Mn={class:"ele-map-view-extra"},kn={key:0,class:"ele-map-view-message"},le="ele-map-view-body-icon",wn=K({name:"MapView",__name:"map-view",props:fe,emits:{mapDone:L=>!0,select:L=>!0,done:L=>!0},setup(L,{expose:E,emit:b}){const s=L,p=b,n={},l=U(null),d=U(null),g=U(null),y=U(!0),h=U(!1),t=U(!1),i=U([]),u=U([]),r=U([le]),m=U(""),c=U(null),k=Z(()=>s.required&&!c.value),f=Z(()=>s.mode==="keyword"),S=Z(()=>s.mode==="poi"),z=()=>{if(s.selected!=null){const{lng:e,lat:a}=s.selected;if(a!=null&&e!=null)return s.selected}},X=(e,a)=>a.lat===e.lat&&a.lng===e.lng&&a.name===e.name&&a.address===e.address,ve=(e,a)=>{const o=a.findIndex(v=>X(e,v));if(o==-1)return[e,...a];const w=[...a];return w[o]=e,w},ge=e=>e==null||typeof e!="object"||e.province==null&&e.city==null&&e.district==null&&e.citycode==null,G=e=>{const a=e.name||"",w=(Array.isArray(e.address)?e.address[0]:e.address)||"",{lat:v,lng:A}=e.location,P=ge(e.city)?void 0:e.city,te=[a,w,v,A].join(",");return{...e,name:a,address:w,lat:v,lng:A,city:P,key:te}},ye=()=>{const e=g.value;e&&(e.scrollTop=0)},xe=()=>{const e=g.value;if(e){const a=e.querySelector(".ele-map-view-item.is-active");a&&(typeof a.scrollIntoViewIfNeeded=="function"?a.scrollIntoViewIfNeeded(!0):a.scrollIntoView({behavior:"smooth",block:"center"}))}},O=(e,a)=>{c.value!==e&&(c.value=e,a&&p("select",c.value))},Ue=e=>new Promise((a,o)=>{if(!n.autoCompleteIns){o(new Error("AutoComplete instance is null"));return}n.autoCompleteIns.search(e,(w,v)=>{if(w==="error"){const P=w+" "+(v?JSON.stringify(v):"");o(new Error(P));return}if(!(v!=null&&v.tips)){a([]);return}const A=v.tips.filter(P=>!!P.location);a(A.map(P=>G(P)))})}),Le=(e,a)=>new Promise((o,w)=>{if(!n.placeSearchIns){w(new Error("PlaceSearch instance is null"));return}n.placeSearchIns.searchNearBy(s.poiKeywords,[e,a],s.poiRadius,(v,A)=>{var P;if(v==="complete"&&((P=A==null?void 0:A.poiList)!=null&&P.pois)){const ze=A.poiList.pois.filter(ae=>!!ae.location);o(ze.map(ae=>G(ae)));return}if(v==="no_data"){o([]);return}const te=v+" "+(A?JSON.stringify(A):"");w(new Error(te))})}),W=(e,a)=>{y.value=!0,h.value=!0,Le(e,a).then(o=>{if(h.value=!1,y.value=!1,!n.selectedSuggestion){i.value=o,O(null,!0),ye();return}i.value=ve(n.selectedSuggestion,o),O(n.selectedSuggestion,!0),n.selectedSuggestion=null,se(()=>{})}).catch(o=>{console.error(o),h.value=!1,y.value=!1;const w=n.selectedSuggestion;i.value=w?[w]:[],O(w||null,!0)})},Q=()=>{r.value=[le],se(()=>{setTimeout(()=>{r.value=[le,"ele-map-view-anim-bounce"]},0)})},ee=()=>{n.centerMarker&&n.mapIns&&n.mapIns.remove(n.centerMarker)},j=(e,a)=>{if(!n.centerMarker){console.error("centerMarker is null");return}if(!n.mapIns){console.error("map instance is null");return}ee(),e!=null&&a!=null&&(n.centerMarker.setPosition([e,a]),n.mapIns.add(n.centerMarker))},B=(e,a,o)=>{n.mapIns&&e!=null&&a!=null&&(o==null?n.mapIns.setCenter([e,a]):n.mapIns.setZoomAndCenter(o,[e,a]))},he=e=>new Promise((a,o)=>{if(!n.mapIns){o(new Error("map instance is null"));return}const w=n.mapIns.getCenter();if(!e){a(w||{});return}n.mapIns.getCity(v=>{a({...w||{},city:v})})}),_e=e=>{n.mapIns&&(typeof e=="boolean"?e?n.mapIns.setMapStyle("amap://styles/dark"):n.mapIns.setMapStyle("amap://styles/normal"):e&&n.mapIns.setMapStyle(e))},Ve=()=>{n.mapIns&&n.mapIns.destroy(),n.centerMarker=null,n.placeSearchIns=null,n.autoCompleteIns=null,n.mapIns=null},ne=()=>{Ve(),n.lastSuggestion="",n.selectedSuggestion=null,n.isItemClickMove=!1,i.value=[],u.value=[],m.value="",O(null)},Me=()=>{!s.mapKey||n.mapIns||me.load({key:s.mapKey,version:s.mapVersion,plugins:["AMap.PlaceSearch","AMap.AutoComplete"]}).then(e=>{ne(),n.centerMarker=new e.Marker({icon:new e.Icon({image:s.markerSrc,size:new e.Size(26,36.5),imageSize:new e.Size(26,36.5)}),offset:new e.Pixel(-13,-36.5)}),n.autoCompleteIns=new e.AutoComplete({city:s.suggestionCity}),n.placeSearchIns=new e.PlaceSearch({type:s.poiType,pageSize:s.poiLimit,pageIndex:1});const a=z(),o=a?[a.lng,a.lat]:void 0,w=s.darkMode?"amap://styles/dark":void 0;n.mapIns=new e.Map(l.value,{zoom:a==null?s.zoom:s.selectedZoom,center:o||s.center,resizeEnable:!0,mapStyle:s.mapStyle||w}),n.mapIns.on("complete",()=>{const v=z();if(v!=null&&(O(v),!S.value)){const{lng:A,lat:P}=v;j(A,P)}if(S.value||f.value){n.selectedSuggestion=v;const{lng:A,lat:P}=n.mapIns.getCenter();W(A,P);return}y.value=!1}),n.mapIns.on("moveend",()=>{if(n.isItemClickMove||!S.value){n.isItemClickMove=!1;return}Q();const{lng:v,lat:A}=n.mapIns.getCenter();W(v,A)}),n.mapIns.on("click",v=>{if(S.value||f.value)return;if(v.lnglat==null||typeof v.lnglat!="object"){console.error(v);return}const{lng:A,lat:P}=v.lnglat;O(G({location:{lat:P,lng:A}}),!0),B(A,P,s.selectedZoom),j(A,P)}),p("mapDone",n.mapIns)}).catch(e=>{console.error(e)})},Ee=()=>n.mapIns,ke=()=>{const e=z();if(n.mapIns==null||e==null)return;O(e);const{lng:a,lat:o}=e;n.isItemClickMove=!0,B(a,o,s.selectedZoom),S.value||j(a,o),(f.value||S.value)&&!i.value.includes(e)&&(i.value=ve(e,i.value)),se(()=>{xe()})},we=(e,a)=>{if(!e||n.lastSuggestion===e){a&&a(u.value);return}n.lastSuggestion=e,f.value&&(h.value=!0),Ue(e).then(o=>{if(f.value){i.value=o,h.value=!1,O(null,!0),ee(),ye();return}u.value=o,a&&a(u.value)}).catch(o=>{console.error(o),h.value=!1,a&&a(u.value)})},$e=e=>{if(d.value&&d.value.blur(),!e)return;const{lng:a,lat:o}=e;if(!(a==null||o==null)){if(!S.value){j(a,o),B(a,o,s.selectedZoom),O(e,!0);return}y.value=!0,n.selectedSuggestion=e,n.isItemClickMove=!0,B(a,o,s.selectedZoom),Q(),W(a,o)}},Oe=e=>{n.isItemClickMove=!0,O(e,!0);const{lng:a,lat:o}=e;if(B(a,o,s.selectedZoom),S.value){Q();return}j(a,o)},Ie=()=>{if(!c.value){t.value=!0,he(s.returnRegions).then(e=>{t.value=!1,p("done",e)}).catch(e=>{console.error(e),t.value=!1,p("done",{})});return}if(!s.returnRegions||!ge(c.value.city)){p("done",c.value);return}t.value=!0,n.isItemClickMove=!0,B(c.value.lng,c.value.lat),he(!0).then(({city:e})=>{t.value=!1,p("done",{...c.value||{},city:e})}).catch(e=>{console.error(e),t.value=!1,p("done",c.value||{})})};return R(()=>s.selected,()=>{ke()}),R(()=>s.darkMode,e=>{s.mapStyle||_e(e)}),R(()=>s.mapStyle,e=>{e&&_e(e)}),R(()=>s.mode,e=>{if(m.value="",u.value=[],n.selectedSuggestion=null,n.lastSuggestion="",ee(),e!=="poi"&&c.value){const{lng:a,lat:o}=c.value.location;j(a,o)}if(!i.value.length&&(e==="poi"||e==="keyword"))if(c.value){const{lng:a,lat:o}=c.value.location;W(a,o)}else{const{lng:a,lat:o}=n.mapIns.getCenter();W(a,o)}}),R(()=>s.mapKey,()=>{ne(),Me()}),re(()=>{Me()}),ue(()=>{ne()}),E({autocompleteRef:d,getMapIns:Ee,showInitSelected:ke}),(e,a)=>(C(),T(be,{loading:y.value,class:oe(["ele-map-view",{"is-poi-mode":S.value}]),style:F({height:e.height})},{default:M(()=>[x("div",un,[x("div",{ref_key:"mapRef",ref:l,style:{height:"100%"}},null,512),S.value?(C(),$(J,{key:0},[_(I(q),{class:"ele-map-view-icon-plus"},{default:M(()=>[_(I(De))]),_:1}),x("img",{src:e.markerSrc,class:oe(r.value)},null,10,cn)],64)):D("",!0),e.filterable&&!f.value?(C(),$("div",{key:1,class:"ele-map-view-search",style:F(e.searchStyle)},[_(I(nn),{ref_key:"autocompleteRef",ref:d,valueKey:"name",clearable:!0,modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=o=>m.value=o),placeholder:e.searchPlaceholder,popperClass:"ele-map-suggest-popper",fetchSuggestions:we,onSelect:$e},{prefix:M(()=>[_(I(q),{class:"el-input__icon"},{default:M(()=>[_(I(Se))]),_:1})]),default:M(({item:o})=>[x("div",pn,[x("div",dn,V(o.name),1),x("div",mn,V(o.district),1)])]),_:1},8,["modelValue","placeholder"])],4)):D("",!0),!S.value&&!f.value?(C(),$(J,{key:2},[k.value&&e.clickMessage?(C(),$("div",fn,V(e.clickMessage),1)):(C(),T(I(Y),{key:1,type:"primary",loading:t.value,disabled:k.value,class:"ele-map-view-btn-ok",onClick:Ie},{default:M(()=>[N(V(e.okText),1)]),_:1},8,["loading","disabled"]))],64)):D("",!0)]),f.value||S.value?(C(),T(be,{key:0,loading:h.value,style:F(e.sideStyle),class:"ele-map-view-side"},{default:M(()=>[f.value?(C(),$("div",{key:0,class:"ele-map-view-search",style:F(e.searchStyle)},[_(I(je),{clearable:!0,modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=o=>m.value=o),prefixIcon:I(Se),placeholder:e.searchPlaceholder,validateEvent:!1,onChange:we},null,8,["modelValue","prefixIcon","placeholder"])],4)):D("",!0),x("div",{ref_key:"listRef",ref:g,class:"ele-map-view-list"},[(C(!0),$(J,null,Ce(i.value,o=>(C(),$("div",{key:o.key,class:oe(["ele-map-view-item",{"is-active":o===c.value}]),onClick:w=>Oe(o)},[_(I(q),{class:"ele-map-view-item-icon"},{default:M(()=>[_(I(Be))]),_:1}),x("div",gn,[x("div",yn,V(o.name),1),o.address?(C(),$("div",hn,V(o.address),1)):D("",!0)]),_(I(q),{class:"ele-map-view-item-radio"},{default:M(()=>[_(I(Ne))]),_:1})],10,vn))),128)),!i.value||!i.value.length?(C(),$("div",_n,[_(I(Ke),ie({imageSize:80},e.emptyProps||{}),null,16)])):D("",!0)],512),x("div",Mn,[k.value&&e.message?(C(),$("div",kn,V(e.message),1)):(C(),T(I(Y),{key:1,type:"primary",loading:t.value,disabled:k.value,class:"ele-map-view-btn-ok",onClick:Ie},{default:M(()=>[N(V(e.okText),1)]),_:1},8,["loading","disabled"]))])]),_:1},8,["loading","style"])):D("",!0)]),_:1},8,["loading","class","style"]))}}),In=K({name:"EleMapPicker",__name:"index",props:sn,emits:ln,setup(L,{expose:E,emit:b}){const s=L,p=b,{lang:n,globalConfig:l}=We("map",s),d=qe(s),g=U(null),y=Z(()=>s.mapKey||l.mapKey),h=Z(()=>Ze(s,rn)),t=r=>{p("update:modelValue",r)},i=r=>{p("mapDone",r)},u=r=>{p("done",r)};return R(()=>s.modelValue,r=>{r&&g.value&&g.value.showInitSelected()}),E({mapRef:g}),(r,m)=>(C(),T(Xe,ie({width:"740px",title:I(n).title},r.modalProps||{},{modelValue:r.modelValue,class:["ele-map-picker",{"is-responsive":I(d)}],"onUpdate:modelValue":t}),Fe({default:M(()=>[_(wn,ie(h.value,{ref_key:"mapRef",ref:g,message:I(n).message,clickMessage:I(n).clickMessage,searchPlaceholder:I(n).placeholder,okText:I(n).ok,mapKey:y.value,mode:r.keywordMode?"keyword":r.mode,onMapDone:i,onDone:u}),null,16,["message","clickMessage","searchPlaceholder","okText","mapKey","mode"])]),_:2},[Ce(Object.keys(r.$slots).filter(c=>c!=="default"),c=>({name:c,fn:M(k=>[Je(r.$slots,c,He(Ye(k||{})))])}))]),1040,["title","modelValue","class"]))}}),Sn={style:{"margin-top":"12px"}},bn={style:{"margin-top":"12px"}},An={style:{"margin-top":"12px"}},Cn=K({__name:"demo-picker",setup(L){const E=ce(),{darkMode:b}=pe(E),s=U(!1),p=U("lnglat"),n=U(),l=Ge({location:"",address:"",lngAndLat:""}),d=()=>{s.value=!0},g=y=>{var h,t,i;console.log(JSON.parse(JSON.stringify(y))),l.location=`${(h=y.city)==null?void 0:h.province}/${(t=y.city)==null?void 0:t.city}/${(i=y.city)==null?void 0:i.district}`,l.address=`${y.name} ${y.address}`,l.lngAndLat=`${y.lng},${y.lat}`,s.value=!1,n.value=y};return(y,h)=>{const t=q,i=Y,u=Qe,r=de,m=In;return C(),$(J,null,[_(r,{header:"地图位置选择"},{default:M(()=>[x("div",null,[_(u,{modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=c=>p.value=c),items:[{title:"点击地图模式",command:"lnglat"},{title:"关键字检索模式",command:"keyword"},{title:"POI检索模式",command:"poi"}],trigger:"click",style:{"margin-right":"12px"}},{default:M(({selected:c})=>[_(i,{class:"ele-btn-icon",style:{width:"134px"}},{default:M(()=>[x("span",null,V(c==null?void 0:c.title),1),_(t,{size:12,style:{margin:"0 -4px 0 2px"}},{default:M(()=>[_(I(en))]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),_(i,{type:"primary",class:"ele-btn-icon",onClick:d},{default:M(()=>h[2]||(h[2]=[N(" 打开位置选择 ")])),_:1})]),x("div",Sn,"经 纬 度 : "+V(l.lngAndLat),1),x("div",bn,"选中位置: "+V(l.location),1),x("div",An,"详细地址: "+V(l.address),1)]),_:1}),_(m,{modelValue:s.value,"onUpdate:modelValue":h[1]||(h[1]=c=>s.value=c),"return-regions":!0,selected:n.value,"dark-mode":I(b),mode:p.value,height:"100%","modal-props":{bodyStyle:{height:"460px",minHeight:"100%",maxHeight:"100%"},maxable:!0,resizable:!0,resizeIconStyle:{zIndex:200},minWidth:372,minHeight:280},"side-style":{maxWidth:"448px"},onDone:g},null,8,["modelValue","selected","dark-mode","mode"])],64)}}}),Pn=K({__name:"demo-map",setup(L){const E=ce(),{darkMode:b}=pe(E),s=U(null);let p;const n=()=>{me.load({key:Pe,version:"2.0",plugins:["AMap.InfoWindow","AMap.Marker"]}).then(l=>{const d={zoom:13,center:[114.346084,30.516215],mapStyle:b.value?"amap://styles/dark":void 0};p=new l.Map(s.value,d);const g=new l.InfoWindow({content:`
            <div style="color: #333;">
              <div style="padding: 5px;font-size: 16px;">OneWork</div>
              <div style="padding: 0 5px;">地址: 湖北省武汉市洪山区雄楚大道222号</div>
              <div style="padding: 0 5px;">电话: 020-123456789</div>
            </div>
            <a
              style="padding: 8px 0 0 5px;text-decoration: none;display: inline-block;color: #1677ff;"
              href="//uri.amap.com/marker?position=114.346084,30.511215&name=OneWork"
              target="_blank">到这里去→
            </a>
          `});g.open(p,[114.346084,30.511215]);const y=new l.Icon({size:new l.Size(25,34),image:"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-red.png",imageSize:new l.Size(25,34)}),h=new l.Marker({icon:y,position:[114.346084,30.511215],offset:new l.Pixel(-12,-28)});h.setMap(p),h.on("click",()=>{g.open(p)})}).catch(l=>{console.error(l)})};return re(()=>{n()}),ue(()=>{p&&(p.destroy(),p=null)}),R(b,l=>{p&&(l?p.setMapStyle("amap://styles/dark"):p.setMapStyle("amap://styles/normal"))}),(l,d)=>{const g=de;return C(),T(g,{header:"官网底部地图"},{default:M(()=>[x("div",{ref_key:"locationMapRef",ref:s,style:{height:"360px","max-width":"800px"}},null,512)]),_:1})}}}),xn=K({__name:"demo-track",setup(L){const E=ce(),{darkMode:b}=pe(E),s=U(null);let p,n;const l=[[116.478935,39.997761],[116.478939,39.997825],[116.478912,39.998549],[116.478912,39.998549],[116.478998,39.998555],[116.478998,39.998555],[116.479282,39.99856],[116.479658,39.998528],[116.480151,39.998453],[116.480784,39.998302],[116.480784,39.998302],[116.481149,39.998184],[116.481573,39.997997],[116.481863,39.997846],[116.482072,39.997718],[116.482362,39.997718],[116.483633,39.998935],[116.48367,39.998968],[116.484648,39.999861]],d=()=>{me.load({key:Pe,version:"2.0",plugins:["AMap.MoveAnimation","AMap.Marker","AMap.Polyline"]}).then(t=>{const i={zoom:17,center:[116.478935,39.997761],mapStyle:b.value?"amap://styles/dark":void 0};p=new t.Map(s.value,i),n=new t.Marker({map:p,position:[116.478935,39.997761],icon:"https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png",offset:new t.Pixel(-13,-26)}),new t.Polyline({map:p,path:l,showDir:!0,strokeColor:"#2288FF",strokeOpacity:1,strokeWeight:6});const u=new t.Polyline({map:p,showDir:!0,strokeColor:"#44BB55",strokeOpacity:1,strokeWeight:6});n.on("moving",r=>{u.setPath(r.passedPath)}),p.setFitView()}).catch(t=>{console.error(t)})},g=()=>{n&&(n.stopMove(),n.moveAlong(l,{duration:200,autoRotation:!0}))},y=()=>{n&&n.pauseMove()},h=()=>{n&&n.resumeMove()};return re(()=>{d()}),ue(()=>{p&&(p.destroy(),p=null)}),R(b,()=>{p&&(b.value?p.setMapStyle("amap://styles/dark"):p.setMapStyle("amap://styles/normal"))}),(t,i)=>{const u=Y,r=de;return C(),T(r,{header:"轨迹展示及轨迹回放"},{default:M(()=>[x("div",{ref_key:"trackMapRef",ref:s,style:{height:"360px","max-width":"800px","margin-bottom":"16px"}},null,512),x("div",null,[_(u,{type:"primary",class:"ele-btn-icon",onClick:g},{default:M(()=>i[0]||(i[0]=[N(" 开始移动 ")])),_:1}),_(u,{type:"primary",class:"ele-btn-icon",onClick:y},{default:M(()=>i[1]||(i[1]=[N(" 暂停移动 ")])),_:1}),_(u,{type:"primary",class:"ele-btn-icon",onClick:h},{default:M(()=>i[2]||(i[2]=[N(" 继续移动 ")])),_:1})])]),_:1})}}}),On=K({name:"ExtensionMap",__name:"index",setup(L){return(E,b)=>{const s=Re;return C(),T(s,null,{default:M(()=>[_(Cn),_(Pn),_(xn)]),_:1})}}});export{On as default};

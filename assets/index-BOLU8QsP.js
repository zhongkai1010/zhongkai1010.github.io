import{_ as z}from"./index-BGEKHCwd.js";import{d as j,r as y,c as R,o as O,w as u,b as n,e as C,h as U,aD as D,aR as J,y as S,m as V,aF as A,a7 as Z,cA as P,b1 as M,a as L,aI as q,aK as $,u as _,aN as Q,aO as T,U as W}from"./index-BZ7jWUbG.js";import{_ as E}from"./index-DCPMxH41.js";import{_ as H}from"./index-CeNj1e61.js";import"./upload-BQgRzgaa.js";import"./progress-DcnCiSdI.js";import{g as F,_ as X}from"./index.vue_vue_type_style_index_0_lang-ulDfKGxk.js";import{u as G}from"./index-BOFCoNRx.js";import{_ as B,a as K}from"./index.vue_vue_type_script_setup_true_lang-K0Ibmi5v.js";import"./col-Bj5hMftQ.js";import{_ as Y}from"./index-Dfis66ym.js";import{O as w}from"./option-item-gKNWXipV.js";import{_ as ee}from"./index-Zx9sTaxD.js";import"./throttle-BfrDbCEh.js";import"./index-C4Hsv7Kb.js";import"./index-DG8iLj70.js";import"./tree-DOEmWKOz.js";import"./index-CIzjM8Nz.js";import"./index-gn-G2Bsy.js";import"./vuedraggable.umd-Gmntv1Hm.js";import"./tree-select-TqqkmyI5.js";import"./message-box-CU0CU72s.js";const te={style:{display:"flex","align-items":"center","margin-top":"12px"}},le={style:{flex:"1","padding-left":"12px"}},oe=j({__name:"demo-basic",setup(N){const s=y([{key:1,name:"c184eef391ae48dba87e3057e70238fb.jpg",url:"https://cdn.eleadmin.com/20200609/c184eef391ae48dba87e3057e70238fb.jpg",status:"done"},{key:2,name:"WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg",url:"https://cdn.eleadmin.com/20200609/f6bc05af944a4f738b54128717952107.jpg",status:"done"},{key:3,name:"f6bc05af944a4f738b54128717952107.jpg",url:"https://cdn.eleadmin.com/20200609/2d98970a51b34b6b859339c96b240dcd.jpg",status:"done"}]),r=y(!1),b=()=>{console.log(JSON.parse(JSON.stringify(s.value))),V.success("数据已打印在控制台")},x=p=>{if(p){if(!p.type.startsWith("image")){V.error("只能选择图片");return}if(p.size/1024/1024>2){V.error("大小不能超过 2MB");return}return!0}},c=(p,i)=>{if(!x(p.file))return;i||s.value.push({...p});const o=s.value.find(t=>t.key===p.key);if(console.log(JSON.parse(JSON.stringify(o))),!o)return;o.status="uploading",o.progress==null&&(o.progress=20);const m=setInterval(()=>{if(Math.round(Math.random()*10)<3){o.status="exception",V.error("上传失败, 服务器繁忙"),clearInterval(m);return}o.progress==null?o.progress=20:o.progress+=20,o.progress===100&&(o.status="done",clearInterval(m))},1e3)},v=({item:p,newItem:i})=>{if(!x(i.file))return;const o=s.value.find(m=>m.key===p.key);o&&(o.url=void 0,o.name=i.name,o.file=i.file,o.progress=0,c(o,!0))},k=p=>{s.value.splice(s.value.indexOf(p),1)};return(p,i)=>{const o=F,m=D,t=J,e=S,a=E;return O(),R(a,{header:"基础示例"},{default:u(()=>[n(o,{limit:8,drag:!0,tools:!0,modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=l=>s.value=l),readonly:r.value,sortable:{forceFallback:!0},onUpload:c,onRetry:i[1]||(i[1]=l=>c(l,!0)),onRemove:k,onEditUpload:v},null,8,["modelValue","readonly"]),C("div",te,[n(m,{type:"primary",onClick:b},{default:u(()=>i[3]||(i[3]=[U("获取数据")])),_:1}),i[4]||(i[4]=C("div",{style:{"line-height":"22px","margin-left":"22px"}},"只读:",-1)),C("div",le,[n(e,{modelValue:r.value,"onUpdate:modelValue":i[2]||(i[2]=l=>r.value=l)},{default:u(()=>[n(t,{value:!1,label:"否"}),n(t,{value:!0,label:"是"})]),_:1},8,["modelValue"])])])]),_:1})}}}),ae={style:{display:"flex","align-items":"center","margin-top":"12px"}},ne={style:{flex:"1","padding-left":"12px"}},re=j({__name:"demo-advanced",setup(N){const s=y([{key:1,url:"https://cdn.eleadmin.com/20200609/b6a811873e704db49db994053a5019b2.jpg",status:"done"},{key:2,url:"https://cdn.eleadmin.com/20200609/fe9196dd091e438fba115205c1003ee7.jpg",status:"done"},{key:3,url:"https://cdn.eleadmin.com/20200609/0bfaa58e801b47fb9f56dcb128206d94.jpg",status:"done"}]),r=y(!1),b=y(!1),x=t=>{if(t){if(!t.type.startsWith("image")){V.error("只能选择图片");return}if(t.size/1024/1024>2){V.error("大小不能超过 2MB");return}return!0}},c=t=>{x(t.file)&&s.value.push({...t})},v=({item:t,newItem:e})=>{if(!x(e.file))return;const a=s.value.find(l=>l.key===t.key);a&&(a.url=void 0,a.name=e.name,a.file=e.file,a.status=void 0,a.progress=0)},k=t=>{A.confirm("确定要删除吗?","系统提示",{type:"warning",draggable:!0}).then(()=>{s.value.splice(s.value.indexOf(t),1)}).catch(()=>{})},p=()=>{if(o()){m();return}b.value=!0,s.value.forEach(t=>{(t.status==null||t.status==="exception")&&i(t)})},i=t=>{t.status="uploading",t.progress==null&&(t.progress=20);const e=setInterval(()=>{if(Math.round(Math.random()*10)<3){t.status="exception",V.error("上传失败, 服务器繁忙，请重试"),clearInterval(e);return}t.progress==null?t.progress=20:t.progress+=20,t.progress===100&&(t.status="done",clearInterval(e),o()&&m())},Math.round(Math.random()*2500)+500)},o=()=>!s.value.some(t=>t.status!=="done"),m=()=>{V.success("已全部上传完毕"),console.log(JSON.parse(JSON.stringify(s.value))),b.value=!1};return(t,e)=>{const a=F,l=D,d=J,g=S,I=E;return O(),R(I,{header:"手动上传"},{default:u(()=>[n(a,{drag:!0,tools:!0,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=h=>s.value=h),readonly:b.value,disabled:r.value,sortable:{forceFallback:!0},onUpload:c,onRetry:i,onRemove:k,onEditUpload:v},null,8,["modelValue","readonly","disabled"]),C("div",ae,[n(l,{type:"primary",loading:b.value,onClick:p},{default:u(()=>e[2]||(e[2]=[U(" 提交 ")])),_:1},8,["loading"]),e[3]||(e[3]=C("div",{style:{"line-height":"22px","margin-left":"22px"}},"禁用:",-1)),C("div",ne,[n(g,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=h=>r.value=h)},{default:u(()=>[n(d,{value:!1,label:"否"}),n(d,{value:!0,label:"是"})]),_:1},8,["modelValue"])])]),e[4]||(e[4]=C("div",{style:{"margin-top":"20px"}}," 默认选择文件后就会调用请求后端上传的方法，也可以改为在点击提交按钮后才上传 ",-1))]),_:1})}}}),se={style:{display:"flex","align-items":"center","margin-top":"12px"}},ie={style:{flex:"1","padding-left":"8px"}},de=j({__name:"demo-multiple",setup(N){const s=y([{key:1,name:"c184eef391ae48dba87e3057e70238fb.jpg",url:"https://cdn.eleadmin.com/20200609/e36594e7423147748b2592ccb720ae9e.jpg",status:"done"},{key:2,name:"WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg",url:"https://cdn.eleadmin.com/20200609/be7dc0c24fc342fda44e12a2c2a2b7bb.jpg",status:"done"},{key:3,name:"f6bc05af944a4f738b54128717952107.jpg",url:"https://cdn.eleadmin.com/20200609/66e6f6c60cfa44b288d6343027b544d0.jpg",status:"done"}]),r=y("image"),b=()=>{console.log(JSON.parse(JSON.stringify(s.value))),V.success("数据已打印在控制台")},x=p=>{if(p){if(p.size/1024/1024>20){V.error("大小不能超过 20MB");return}return!0}},c=(p,i)=>{if(!x(p.file))return;i||s.value.push({...p});const o=s.value.find(t=>t.key===p.key);if(console.log(JSON.parse(JSON.stringify(o))),!o)return;o.status="uploading",o.progress==null&&(o.progress=20);const m=setInterval(()=>{if(Math.round(Math.random()*10)<3){o.status="exception",V.error("上传失败, 服务器繁忙"),clearInterval(m);return}o.progress==null?o.progress=20:o.progress+=20,o.progress===100&&(o.status="done",clearInterval(m))},1e3)},v=({item:p,newItem:i})=>{if(!x(i.file))return;const o=s.value.find(m=>m.key===p.key);o&&(o.url=void 0,o.name=i.name,o.file=i.file,o.progress=0,c(o,!0))},k=p=>{s.value.splice(s.value.indexOf(p),1)};return(p,i)=>{const o=F,m=D,t=J,e=S,a=E;return O(),R(a,{header:"支持多选"},{default:u(()=>[i[5]||(i[5]=C("div",{style:{"margin-bottom":"12px"}}," 点击上传按钮后可以一次选多个文件添加。 ",-1)),n(o,{limit:8,drag:!0,tools:!0,multiple:!0,modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=l=>s.value=l),listType:r.value,sortable:{forceFallback:!0},style:Z({maxWidth:r.value==="file"?"460px":void 0}),onUpload:c,onRetry:i[1]||(i[1]=l=>c(l,!0)),onRemove:k,onEditUpload:v},null,8,["modelValue","listType","style"]),C("div",se,[n(m,{type:"primary",onClick:b,class:"ele-btn-icon"},{default:u(()=>i[3]||(i[3]=[U(" 获取数据 ")])),_:1}),i[4]||(i[4]=C("div",{style:{"line-height":"22px","margin-left":"18px"}},"显示模式:",-1)),C("div",ie,[n(e,{modelValue:r.value,"onUpdate:modelValue":i[2]||(i[2]=l=>r.value=l)},{default:u(()=>[n(t,{value:"image",label:"相册"}),n(t,{value:"file",label:"列表"})]),_:1},8,["modelValue"])])]),i[6]||(i[6]=C("div",{style:{"margin-top":"12px"}}," 用于文件上传的场景可以将显示模式改为列表模式更友好。 ",-1))]),_:1})}}}),ue={style:{display:"flex","align-items":"center","margin-top":"12px"}},me=j({__name:"demo-picker",setup(N){const s=y([{key:"001",name:"c184eef391ae48dba87e3057e70238fb.jpg",url:"https://cdn.eleadmin.com/20200609/8931360b593040238d894a542c9037bc.jpg",status:"done"},{key:"002",name:"WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg",url:"https://cdn.eleadmin.com/20200609/4e60a84551fa48439bf42ecdb9673331.jpg",status:"done"},{key:"003",name:"f6bc05af944a4f738b54128717952107.jpg",url:"https://cdn.eleadmin.com/20200609/d6442cfa99b64b51aabfc470055b05dc.jpg",status:"done"}]),r=y(8),b=y(!1),x=y(1);let c=null;const v=()=>{console.log(JSON.parse(JSON.stringify(s.value))),V.success("数据已打印在控制台")},k=e=>{if(e){if(!e.type.startsWith("image")){V.error("只能选择图片");return}if(e.size/1024/1024>2){V.error("大小不能超过 2MB");return}return!0}},p=(e,a)=>{if(!k(e.file))return;a||s.value.push({...e});const l=s.value.find(g=>g.key===e.key);if(console.log(JSON.parse(JSON.stringify(l))),!l)return;l.status="uploading",l.progress==null&&(l.progress=20);const d=setInterval(()=>{if(Math.round(Math.random()*10)<3){l.status="exception",V.error("上传失败, 服务器繁忙"),clearInterval(d);return}l.progress==null?l.progress=20:l.progress+=20,l.progress===100&&(l.status="done",clearInterval(d))},1e3)},i=e=>{s.value.splice(s.value.indexOf(e),1)},o=()=>(x.value=r.value-s.value.length,b.value=!0,c=null,!1),m=e=>(x.value=1,b.value=!0,c=e,!1),t=e=>{if(b.value=!1,c==null){e.forEach(l=>{s.value.push({key:String(Date.now())+l.id,name:l.name,url:l.url,status:"done"})});return}const a=s.value.find(l=>l.key===(c==null?void 0:c.key));if(a&&e.length){const l=e[0];a.name=l.name,a.url=l.url,a.status="done"}};return(e,a)=>{const l=P,d=F,g=D,I=E;return O(),R(I,null,{header:u(()=>[a[3]||(a[3]=C("span",null,"调用文件选择器",-1)),n(l,{value:"New",style:{display:"inline-flex","font-weight":"normal","margin-left":"4px"}})]),default:u(()=>[a[5]||(a[5]=C("div",{style:{"margin-bottom":"12px"}}," 可自定义上传按钮和修改按钮的逻辑，例如弹出文件选择弹窗进行选择。 ",-1)),n(d,{drag:!0,tools:!0,limit:r.value,multiple:!0,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=h=>s.value=h),sortable:{forceFallback:!0},beforeUploadClick:o,beforeItemEdit:m,onUpload:p,onRetry:a[1]||(a[1]=h=>p(h,!0)),onRemove:i},null,8,["limit","modelValue"]),C("div",ue,[n(g,{type:"primary",onClick:v,class:"ele-btn-icon"},{default:u(()=>a[4]||(a[4]=[U(" 获取数据 ")])),_:1})]),n(X,{title:"图片选择",fileLimit:2,accept:"image/*",params:{contentType:"image/"},modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=h=>b.value=h),limit:x.value,onDone:t},null,8,["modelValue","limit"])]),_:1})}}}),pe=j({__name:"demo-form1",setup(N){const s=y(null),[r,b,x]=M({id:void 0,content:"",images:[]}),c=L({content:[{required:!0,message:"请输入投诉内容",type:"string",trigger:"blur"}],images:[{required:!0,message:"请上传现场照片",type:"array",trigger:"change"},{type:"array",trigger:"change",validator:(t,e,a)=>{if(e&&e.some(l=>l.status!=="done"))return a(new Error("现场照片还未上传完毕"));a()}}]}),v=()=>{var t,e;(e=(t=s.value)==null?void 0:t.validate)==null||e.call(t,a=>{if(!a)return;const l={...r,images:r.images.map(d=>d.url)};console.log(JSON.parse(JSON.stringify(l))),V.success("数据已打印在控制台")})},k=t=>{if(t){if(!t.type.startsWith("image")){V.error("只能选择图片");return}if(t.size/1024/1024>2){V.error("大小不能超过 2MB");return}return!0}},p=(t,e)=>{if(!t.file||!k(t.file))return;e||r.images.push({...t});const a=r.images.find(l=>l.key===t.key);a&&(a.status="uploading",G(t.file,{onUploadProgress:l=>{l.total!=null&&(a.progress=l.loaded/l.total*100)}}).then(l=>{var d,g;a.status="done",a.url=l.url,(g=(d=s.value)==null?void 0:d.clearValidate)==null||g.call(d,["images"])}).catch(l=>{var d,g;a.status="exception",V.error(l.message),(g=(d=s.value)==null?void 0:d.validateField)==null||g.call(d,["images"]).catch(()=>{})}))},i=({item:t,newItem:e})=>{if(!k(e.file))return;const a=r.images.find(l=>l.key===t.key);a&&(a.url=void 0,a.name=e.name,a.file=e.file,a.progress=0,p(a,!0))},o=t=>{var e,a;r.images.splice(r.images.indexOf(t),1),(a=(e=s.value)==null?void 0:e.validateField)==null||a.call(e,["images"]).catch(()=>{})},m=()=>{var a,l;const t={id:1,content:"2栋楼下的路灯已经坏了几天了都没人来维修一下",images:["https://cdn.eleadmin.com/20200609/c184eef391ae48dba87e3057e70238fb.jpg","https://cdn.eleadmin.com/20200610/WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg"]},e=t.images?t.images.map((d,g)=>({key:g,url:d,status:"done"})):[];x({...t,images:e}),(l=(a=s.value)==null?void 0:a.clearValidate)==null||l.call(a)};return(t,e)=>{const a=$,l=q,d=F,g=D,I=T,h=E;return O(),R(h,{header:"使用案例一"},{default:u(()=>[n(I,{ref_key:"formRef",ref:s,model:_(r),rules:c,"label-width":"100px",style:{"max-width":"460px"},onSubmit:e[3]||(e[3]=Q(()=>{},["prevent"]))},{default:u(()=>[n(l,{label:"投诉内容",prop:"content"},{default:u(()=>[n(a,{rows:4,type:"textarea",modelValue:_(r).content,"onUpdate:modelValue":e[0]||(e[0]=f=>_(r).content=f),placeholder:"请输入投诉内容"},null,8,["modelValue"])]),_:1}),n(l,{label:"现场照片",prop:"images"},{default:u(()=>[n(d,{limit:3,drag:!0,tools:!0,modelValue:_(r).images,"onUpdate:modelValue":e[1]||(e[1]=f=>_(r).images=f),sortable:{forceFallback:!0},onUpload:p,onRetry:e[2]||(e[2]=f=>p(f,!0)),onRemove:o,onEditUpload:i},null,8,["modelValue"])]),_:1}),n(l,null,{default:u(()=>[n(g,{type:"primary",onClick:v},{default:u(()=>e[4]||(e[4]=[U("提交")])),_:1}),n(g,{type:"primary",onClick:m},{default:u(()=>e[5]||(e[5]=[U("回显数据")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}}),ge=j({__name:"demo-form2",setup(N){const s=y(null),[r,b,x]=M({id:void 0,realName:"",idCard:"",idCardImg1:[],idCardImg2:[]}),c=L({realName:[{required:!0,message:"请输入真实姓名",type:"string",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",type:"string",trigger:"blur"}],idCardImg1:[{required:!0,message:"请上传身份证正面",type:"array",trigger:"change"},{type:"array",trigger:"change",validator:(t,e,a)=>{if(e&&e.some(l=>l.status!=="done"))return a(new Error("身份证正面还未上传完毕"));a()}}],idCardImg2:[{required:!0,message:"请上传身份证反面",type:"array",trigger:"change"},{type:"array",trigger:"change",validator:(t,e,a)=>{if(e&&e.some(l=>l.status!=="done"))return a(new Error("身份证反面还未上传完毕"));a()}}]}),v=()=>{var t,e;(e=(t=s.value)==null?void 0:t.validate)==null||e.call(t,a=>{if(!a)return;const l={...r,idCardImg1:r.idCardImg1.map(d=>d.url).join(),idCardImg2:r.idCardImg2.map(d=>d.url).join()};console.log(JSON.parse(JSON.stringify(l))),V.success("数据已打印在控制台")})},k=t=>{if(t){if(!t.type.startsWith("image")){V.error("只能选择图片");return}if(t.size/1024/1024>2){V.error("大小不能超过 2MB");return}return!0}},p=(t,e,a)=>{if(!e.file||!k(e.file))return;a||(t===1?r.idCardImg2:r.idCardImg1).push({...e});const l=(t===1?r.idCardImg2:r.idCardImg1).find(d=>d.key===e.key);l&&(l.status="uploading",G(e.file,{onUploadProgress:d=>{d.total!=null&&(l.progress=d.loaded/d.total*100)}}).then(d=>{var g,I;l.status="done",l.url=d.url,(I=(g=s.value)==null?void 0:g.clearValidate)==null||I.call(g,[t===1?"idCardImg2":"idCardImg1"])}).catch(d=>{var g,I;l.status="exception",V.error(d.message),(I=(g=s.value)==null?void 0:g.validateField)==null||I.call(g,[t===1?"idCardImg2":"idCardImg1"]).catch(()=>{})}))},i=(t,{item:e,newItem:a})=>{if(!k(a.file))return;const l=(t===1?r.idCardImg2:r.idCardImg1).find(d=>d.key===e.key);l&&(l.url=void 0,l.name=a.name,l.file=a.file,l.progress=0,p(t,l,!0))},o=(t,e)=>{var l,d;const a=t===1?r.idCardImg2:r.idCardImg1;a.splice(a.indexOf(e),1),(d=(l=s.value)==null?void 0:l.validateField)==null||d.call(l,[t===1?"idCardImg2":"idCardImg1"]).catch(()=>{})},m=()=>{var l,d;const t={id:1,realName:"张三",idCard:"420111200001013807",idCardImg1:"https://cdn.eleadmin.com/20200610/CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI.jpg",idCardImg2:"https://cdn.eleadmin.com/20200610/ttkIjNPlVDuv4lUTvRX8GIlM2QqSe0jg.jpg"},e=[{key:1,url:t.idCardImg1,status:"done"}],a=[{key:1,url:t.idCardImg2,status:"done"}];x({...t,idCardImg1:e,idCardImg2:a}),(d=(l=s.value)==null?void 0:l.clearValidate)==null||d.call(l)};return(t,e)=>{const a=$,l=q,d=F,g=D,I=T,h=E;return O(),R(h,{header:"使用案例二"},{default:u(()=>[n(I,{ref_key:"formRef",ref:s,model:_(r),rules:c,"label-width":"100px",style:{"max-width":"380px"},onSubmit:e[12]||(e[12]=Q(()=>{},["prevent"]))},{default:u(()=>[n(l,{label:"真实姓名",prop:"realName"},{default:u(()=>[n(a,{clearable:"",maxlength:20,modelValue:_(r).realName,"onUpdate:modelValue":e[0]||(e[0]=f=>_(r).realName=f),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),n(l,{label:"身份证号",prop:"idCard"},{default:u(()=>[n(a,{clearable:"",maxlength:20,modelValue:_(r).idCard,"onUpdate:modelValue":e[1]||(e[1]=f=>_(r).idCard=f),placeholder:"请输入身份证号"},null,8,["modelValue"])]),_:1}),n(l,{label:"身份证正面",prop:"idCardImg1"},{default:u(()=>[n(d,{limit:1,drag:!0,tools:!0,sortable:!1,modelValue:_(r).idCardImg1,"onUpdate:modelValue":e[2]||(e[2]=f=>_(r).idCardImg1=f),"item-style":{width:"260px",height:"163px",background:"var(--el-fill-color-lighter)","--ele-upload-list-padding":0},"button-style":{width:"260px",height:"163px"},onUpload:e[3]||(e[3]=f=>p(0,f)),onRetry:e[4]||(e[4]=f=>p(0,f,!0)),onRemove:e[5]||(e[5]=f=>o(0,f)),onEditUpload:e[6]||(e[6]=f=>i(0,f))},null,8,["modelValue"])]),_:1}),n(l,{label:"身份证反面",prop:"idCardImg2"},{default:u(()=>[n(d,{limit:1,drag:!0,tools:!0,sortable:!1,modelValue:_(r).idCardImg2,"onUpdate:modelValue":e[7]||(e[7]=f=>_(r).idCardImg2=f),"item-style":{width:"260px",height:"163px",background:"var(--el-fill-color-lighter)","--ele-upload-list-padding":0},"button-style":{width:"260px",height:"163px"},onUpload:e[8]||(e[8]=f=>p(1,f)),onRetry:e[9]||(e[9]=f=>p(1,f,!0)),onRemove:e[10]||(e[10]=f=>o(1,f)),onEditUpload:e[11]||(e[11]=f=>i(1,f))},null,8,["modelValue"])]),_:1}),n(l,null,{default:u(()=>[n(g,{type:"primary",onClick:v},{default:u(()=>e[13]||(e[13]=[U("提交")])),_:1}),n(g,{type:"primary",onClick:m},{default:u(()=>e[14]||(e[14]=[U("回显数据")])),_:1})]),_:1})]),_:1},8,["model","rules"]),e[15]||(e[15]=C("div",{style:{"padding-top":"8px"}}," 可以很方便的修改宽高等样式，单选的时候使用也非常的方便 ",-1))]),_:1})}}}),fe=j({__name:"demo-customer",setup(N){const s=y(null),[r,b,x]=M({id:void 0,realName:"",idCardImg1:"",idCardImg2:"",content:"",images:""}),c=L({realName:[{required:!0,message:"请输入真实姓名",type:"string",trigger:"blur"}],idCardImg1:[{required:!0,message:"请上传身份证正面",type:"string",trigger:"change"}],idCardImg2:[{required:!0,message:"请上传身份证反面",type:"string",trigger:"change"}],content:[{required:!0,message:"请输入投诉内容",type:"string",trigger:"blur"}],images:[{required:!0,message:"请上传现场照片",type:"string",trigger:"change"},{type:"string",trigger:"change",validator:(i,o,m)=>{var t,e;if(!((e=(t=v.value)==null?void 0:t.isDone)!=null&&e.call(t)))return m(new Error("现场照片还未上传完毕"));m()}}]}),v=y(null),k=()=>{var i,o;(o=(i=s.value)==null?void 0:i.validate)==null||o.call(i,m=>{m&&(console.log(JSON.parse(JSON.stringify(r))),V.success("数据已打印在控制台"))})},p=async()=>{var o,m,t,e;(m=(o=v.value)==null?void 0:o.clearData)==null||m.call(o),await W(),x({id:1,realName:"张三",idCardImg1:"https://cdn.eleadmin.com/20200610/CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI.jpg",idCardImg2:"https://cdn.eleadmin.com/20200610/ttkIjNPlVDuv4lUTvRX8GIlM2QqSe0jg.jpg",content:"2栋楼下的路灯已经坏了几天了都没人来维修一下",images:'["https://cdn.eleadmin.com/20200609/c184eef391ae48dba87e3057e70238fb.jpg","https://cdn.eleadmin.com/20200610/WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg"]'}),(e=(t=s.value)==null?void 0:t.clearValidate)==null||e.call(t)};return(i,o)=>{const m=$,t=q,e=D,a=T,l=E;return O(),R(l,{header:"二次封装简化使用"},{default:u(()=>[o[8]||(o[8]=C("div",{style:{"margin-bottom":"24px"}}," 二次封装后无需再处理上传事件及转换数据格式，使用起来就像一个普通输入框一样简单 ",-1)),n(a,{ref_key:"formRef",ref:s,model:_(r),rules:c,"label-width":"100px",style:{"max-width":"460px"},onSubmit:o[5]||(o[5]=Q(()=>{},["prevent"]))},{default:u(()=>[n(t,{label:"投诉内容",prop:"content"},{default:u(()=>[n(m,{rows:4,type:"textarea",modelValue:_(r).content,"onUpdate:modelValue":o[0]||(o[0]=d=>_(r).content=d),placeholder:"请输入投诉内容"},null,8,["modelValue"])]),_:1}),n(t,{label:"现场照片",prop:"images"},{default:u(()=>[n(B,{ref_key:"imagesUploadRef",ref:v,limit:3,modelValue:_(r).images,"onUpdate:modelValue":o[1]||(o[1]=d=>_(r).images=d)},null,8,["modelValue"])]),_:1}),n(t,{label:"真实姓名",prop:"realName"},{default:u(()=>[n(m,{clearable:"",maxlength:20,modelValue:_(r).realName,"onUpdate:modelValue":o[2]||(o[2]=d=>_(r).realName=d),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),n(t,{label:"身份证正面",prop:"idCardImg1"},{default:u(()=>[n(B,{limit:1,modelValue:_(r).idCardImg1,"onUpdate:modelValue":o[3]||(o[3]=d=>_(r).idCardImg1=d),"item-style":{width:"260px",height:"163px",background:"var(--el-fill-color-lighter)","--ele-upload-list-padding":0},"button-style":{width:"260px",height:"163px"}},null,8,["modelValue"])]),_:1}),n(t,{label:"身份证反面",prop:"idCardImg2"},{default:u(()=>[n(B,{limit:1,modelValue:_(r).idCardImg2,"onUpdate:modelValue":o[4]||(o[4]=d=>_(r).idCardImg2=d),"item-style":{width:"260px",height:"163px",background:"var(--el-fill-color-lighter)","--ele-upload-list-padding":0},"button-style":{width:"260px",height:"163px"}},null,8,["modelValue"])]),_:1}),n(t,null,{default:u(()=>[n(e,{type:"primary",onClick:k},{default:u(()=>o[6]||(o[6]=[U("提交")])),_:1}),n(e,{type:"primary",onClick:p},{default:u(()=>o[7]||(o[7]=[U("回显数据")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}}),ce=j({__name:"demo-file",setup(N){const s=y(null),[r,b,x]=M({id:void 0,content:"",files:""}),c=L({content:[{required:!0,message:"请输入投诉内容",type:"string",trigger:"blur"}],files:[{required:!0,message:"请上传现场附件",type:"string",trigger:"change"},{type:"string",trigger:"change",validator:(i,o,m)=>{var t,e;if(!((e=(t=v.value)==null?void 0:t.isDone)!=null&&e.call(t)))return m(new Error("现场附件还未上传完毕"));m()}}]}),v=y(null),k=()=>{var i,o;(o=(i=s.value)==null?void 0:i.validate)==null||o.call(i,m=>{m&&(console.log(JSON.parse(JSON.stringify(r))),V.success("数据已打印在控制台"))})},p=async()=>{var o,m,t,e;(m=(o=v.value)==null?void 0:o.clearData)==null||m.call(o),await W(),x({id:1,content:"2栋楼下的路灯已经坏了几天了都没人来维修一下",files:'[{"url":"https://cdn.eleadmin.com/20200609/c184eef391ae48dba87e3057e70238fb.jpg","name":"c184eef391ae48dba87e3057e70238fb.jpg"},{"url":"https://cdn.eleadmin.com/20200610/WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg","name":"WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg"},{"url":"https://cdn.eleadmin.com/20200610/20200708224450.pdf","name":"20200708224450.pdf"}]'}),(e=(t=s.value)==null?void 0:t.clearValidate)==null||e.call(t)};return(i,o)=>{const m=$,t=q,e=D,a=T,l=E;return O(),R(l,{header:"附件上传"},{default:u(()=>[o[5]||(o[5]=C("div",{style:{"margin-bottom":"24px"}}," 不仅仅能用于图片上传的场景, 还可用于文件上传的场景 ",-1)),n(a,{ref_key:"formRef",ref:s,model:_(r),rules:c,"label-width":"100px",style:{"max-width":"460px"},onSubmit:o[2]||(o[2]=Q(()=>{},["prevent"]))},{default:u(()=>[n(t,{label:"投诉内容",prop:"content"},{default:u(()=>[n(m,{rows:4,type:"textarea",modelValue:_(r).content,"onUpdate:modelValue":o[0]||(o[0]=d=>_(r).content=d),placeholder:"请输入投诉内容"},null,8,["modelValue"])]),_:1}),n(t,{label:"附件",prop:"files"},{default:u(()=>[n(K,{ref_key:"filesUploadRef",ref:v,limit:8,modelValue:_(r).files,"onUpdate:modelValue":o[1]||(o[1]=d=>_(r).files=d)},null,8,["modelValue"])]),_:1}),n(t,null,{default:u(()=>[n(e,{type:"primary",onClick:k},{default:u(()=>o[3]||(o[3]=[U("提交")])),_:1}),n(e,{type:"primary",onClick:p},{default:u(()=>o[4]||(o[4]=[U("回显数据")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}}),ve=["src"],_e={style:{"margin-top":"6px"}},ye=j({__name:"demo-viewer",setup(N){const s=y(!1),r=y(["https://cdn.eleadmin.com/20200610/RZ8FQmZfHkcffMlTBCJllBFjEhEsObVo.jpg","https://cdn.eleadmin.com/20200610/WLXm7gp1EbLDtvVQgkeQeyq5OtDm00Jd.jpg","https://cdn.eleadmin.com/20200610/4Z0QR2L0J1XStxBh99jVJ8qLfsGsOgjU.jpg","https://cdn.eleadmin.com/20200610/ttkIjNPlVDuv4lUTvRX8GIlM2QqSe0jg.jpg","https://cdn.eleadmin.com/20200610/fAenQ8nvRjL7x0i0jEfuDBZHvJfHf3v6.jpg","https://cdn.eleadmin.com/20200610/LrCTN2j94lo9N7wEql7cBr1Ux4rHMvmZ.jpg","https://cdn.eleadmin.com/20200610/yeKvhT20lMU0f1T3Y743UlGEOLLnZSnp.jpg","https://cdn.eleadmin.com/20200610/CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI.jpg"]),b=()=>{s.value=!0},x=y(!1),c=y(!1),v=y(!0),k=y(0),p=y(r.value.map((i,o)=>({value:o,url:i,col:{sm:3,xs:6}})));return(i,o)=>{const m=J,t=S,e=Y,a=D,l=H,d=E;return O(),R(d,{header:"图片预览"},{default:u(()=>[n(w,{label:"可左右循环预览",responsive:!1},{default:u(()=>[n(t,{modelValue:x.value,"onUpdate:modelValue":o[0]||(o[0]=g=>x.value=g)},{default:u(()=>[n(m,{value:!1,label:"否"}),n(m,{value:!0,label:"是"})]),_:1},8,["modelValue"])]),_:1}),n(w,{label:"可点击遮罩关闭",responsive:!1,style:{"margin-top":"0"}},{default:u(()=>[n(t,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=g=>c.value=g)},{default:u(()=>[n(m,{value:!1,label:"否"}),n(m,{value:!0,label:"是"})]),_:1},8,["modelValue"])]),_:1}),n(w,{label:"可按返回键关闭",responsive:!1,style:{"margin-top":"0"}},{default:u(()=>[n(t,{modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=g=>v.value=g)},{default:u(()=>[n(m,{value:!1,label:"否"}),n(m,{value:!0,label:"是"})]),_:1},8,["modelValue"])]),_:1}),n(w,{label:"初始打开的图片",responsive:!1,"label-style":{textAlign:"left",marginBottom:"8px"},"body-style":{padding:0},style:{"margin-top":"4px",display:"block"}},{default:u(()=>[n(e,{modelValue:k.value,"onUpdate:modelValue":o[3]||(o[3]=g=>k.value=g),items:p.value,row:{gutter:8},"item-style":{display:"flex",padding:"6px",marginBottom:"8px"},style:{"max-width":"652px"}},{item:u(({item:g})=>[C("img",{src:g==null?void 0:g.url,style:{objectFit:"contain",width:"100%",height:"38px",pointerEvents:"none"}},null,8,ve)]),_:1},8,["modelValue","items"])]),_:1}),C("div",_e,[n(a,{type:"primary",onClick:b},{default:u(()=>o[5]||(o[5]=[U(" 打开图片预览 ")])),_:1})]),n(l,{modelValue:s.value,"onUpdate:modelValue":o[4]||(o[4]=g=>s.value=g),urlList:r.value,infinite:x.value,hideOnClickModal:c.value,closeOnPressEscape:v.value,initialIndex:k.value},null,8,["modelValue","urlList","infinite","hideOnClickModal","closeOnPressEscape","initialIndex"])]),_:1})}}}),be=j({__name:"demo-cropper",setup(N){const s=y([]),r=y(!1),b=y(!1),x=y("");let c=null,v=null;const k=()=>{s.value=[]},p=()=>(r.value=!0,v=null,!1),i=a=>(r.value=!0,v=a,!1),o=a=>{if(r.value=!1,a.length&&a[0].url){if(c!=null){c(a[0].url,a[0].contentType),c=null;return}x.value=a[0].url,b.value=!0}},m=a=>{if(b.value=!1,v==null){s.value.push({key:String(Date.now()),url:a,status:"done"});return}const l=s.value.find(d=>d.key===(v==null?void 0:v.key));l&&(l.url=a,l.status="done")},t=(a,l)=>(c=l,r.value=!0,!1),e=()=>{c=null};return(a,l)=>{const d=P,g=F,I=ee,h=E;return O(),R(h,null,{header:u(()=>[l[3]||(l[3]=C("span",null,"选择图片后先裁剪",-1)),n(d,{value:"New",style:{display:"inline-flex","font-weight":"normal","margin-left":"4px"}})]),default:u(()=>[l[4]||(l[4]=C("div",{style:{"margin-bottom":"12px"}}," 与文件选择和图片裁剪一起三者结合使用。 ",-1)),n(g,{limit:8,tools:!0,modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=f=>s.value=f),beforeUploadClick:p,beforeItemEdit:i,onRemove:k},null,8,["modelValue"]),n(X,{title:"图片选择",limit:1,fileLimit:2,accept:"image/*",params:{contentType:"image/"},modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=f=>r.value=f),onDone:o,onClose:e},null,8,["modelValue"]),n(I,{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=f=>b.value=f),src:x.value,options:{aspectRatio:1,autoCropArea:1,viewMode:1,dragMode:"move"},"modal-props":{destroyOnClose:!0},beforeUploadClick:t,onDone:m},null,8,["modelValue","src"])]),_:1})}}}),Te=j({name:"ExtensionUpload",__name:"index",setup(N){return(s,r)=>{const b=z;return O(),R(b,null,{default:u(()=>[n(oe),n(re),n(de),n(me),n(be),n(pe),n(ge),n(fe),n(ce),n(ye)]),_:1})}}});export{Te as default};

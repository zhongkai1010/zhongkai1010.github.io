var Qe=Object.defineProperty;var B=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var L=(I,k,w)=>k in I?Qe(I,k,{enumerable:!0,configurable:!0,writable:!0,value:w}):I[k]=w,O=(I,k)=>{for(var w in k||(k={}))Xe.call(k,w)&&L(I,w,k[w]);if(B)for(var w of B(k))Ye.call(k,w)&&L(I,w,k[w]);return I};import{d as N,__tla as Ze}from"./vuedraggable.umd.2b8f3537.js";import{_ as z,d as M,r as u,o as D,f as j,w as l,h as e,a8 as el,a9 as ll,i as U,aa as q,ab as G,B as x,b as $,j as al,u as S,E as P,l as ol,F as tl,m as H,n as J,ac as W,a4 as A,k as s,R as nl,ad as Q,a5 as X,ae as dl,__tla as ul}from"./index.b5253144.js";import{_ as sl,__tla as il}from"./Form.56a86e0e.js";let Y,pl=Promise.all([(()=>{try{return Ze}catch{}})(),(()=>{try{return ul}catch{}})(),(()=>{try{return il}catch{}})()]).then(async()=>{const I={class:"tool"},k=M({name:"DraggableItem",props:{modelValue:null,config:null},emits:["set","copy","remove","update:modelValue"],setup(c,{emit:r}){const n=c;return(_,d)=>{const i=u("form-item"),y=u("el-form-item"),a=u("iconify-icon"),m=u("el-col");return D(),j(m,{span:n.config.span,class:"item-container"},{default:l(()=>[e(y,el(ll(n.config.props)),{default:l(()=>[e(i,{component:n.config.component.component,props:n.config.component.props,"model-value":n.modelValue,config:n.config.component.config,"onUpdate:modelValue":d[0]||(d[0]=V=>_.$emit("update:modelValue",V))},null,8,["component","props","model-value","config"])]),_:1},16),U("div",I,[e(a,{icon:"ant-design:setting-outlined",onClick:d[1]||(d[1]=V=>r("set",n.config.id))}),e(a,{icon:"ant-design:copy-outlined",onClick:d[2]||(d[2]=V=>r("copy",n.config.id))}),e(a,{icon:"ant-design:delete-outlined",onClick:d[3]||(d[3]=V=>r("remove",n.config.id))})])]),_:1},8,["span"])}}});var w=z(k,[["__scopeId","data-v-f393b856"]]);const Z="formItems",E={id:q(),name:"default",span:6,defaultValue:void 0,showLabel:!0,props:{prop:"",label:"\u793A\u4F8B\u7EC4\u4EF6",labelWidth:void 0,required:!1,verifies:[],showMessage:void 0,inlineMessage:void 0,size:void 0,trigger:void 0},component:{component:"el-input",props:{},config:{dataMode:"all",options:[],remote:{url:"",method:"get",params:void 0,labelKey:"label",valueKey:"value",childerKey:"childer",searchKey:"search"}}}},T=c=>Object.keys(G).filter(r=>r.startsWith(c)).map(r=>G[r]),ee=()=>[{name:"base",title:"\u57FA\u7840\u7EC4\u4EF6",components:T("el-")},{name:"business",title:"\u4E1A\u52A1\u7EC4\u4EF6",components:T("bl-")}],le=c=>(H("data-v-00a042f4"),c=c(),J(),c),ae={class:"header"},oe=le(()=>U("span",null,"\u7EC4\u4EF6\u5E93",-1)),te={class:"form-list"},ne=M({name:"ComponentList",setup(c){const r=ee(),n=x(r[0].name),_=d=>{const i=W.cloneDeep(E);return i.id=q(),i.name=q(),i.props.label=d.displayName,i.component.component=d.name,P("draggable component config",i),i};return(d,i)=>{const y=u("iconify-icon"),a=u("el-collapse-item"),m=u("el-collapse"),V=u("el-card");return D(),j(V,{class:"component-container"},{header:l(()=>[U("div",ae,[e(y,{icon:"gg:components",size:25}),oe])]),default:l(()=>[e(m,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=v=>n.value=v),accordion:""},{default:l(()=>[(D(!0),$(tl,null,al(S(r),v=>(D(),j(a,{title:v.title,name:v.name,key:v.name},{default:l(()=>[U("ul",te,[e(S(N),{modelValue:v.components,"onUpdate:modelValue":h=>v.components=h,"item-key":"name",clone:_,onChange:S(P),group:{name:"component",pull:"clone",put:!1}},{item:l(({element:h})=>[U("li",null,[e(y,{icon:"ant-design:form-outlined",size:16}),U("span",null,ol(h.displayName),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1})}}});var de=z(ne,[["__scopeId","data-v-00a042f4"]]);const ue={class:"config-container"},se=s("\u57FA\u672C\u914D\u7F6E"),ie=s("\u8868\u5355\u914D\u7F6E"),pe=s("left"),re=s("right"),me=s("top"),fe=s("left"),ce=s("right"),_e=s("large"),be=s("default"),ve=s("small"),ge=s("\u5E03\u5C40\u914D\u7F6E"),Ve=s("start"),ye=s("end"),he=s("center"),ke=s("space-around"),we=s("space-between"),Ce=s("space-evenly"),Ue=s("top"),xe=s("middle"),Ie=s("bottom"),Re={class:"footer"},De=s("\u5173\u95ED"),Me=M({name:"FormConfigDrawer",props:{modelValue:null},emits:["update-model"],setup(c,{expose:r,emit:n}){const _=c,d=x("px"),i=x(80),y=x(!1),a=A(_.modelValue),m=()=>{y.value=!0},V=()=>{y.value=!1},v=(h,o)=>{switch(i.value=h,d.value=o,o){case"%":a.props.labelWidth=`${h}%`;break;default:a.props.labelWidth=`${h}px`;break}n("update-model",a)};return r({open:m,config:a}),(h,o)=>{const b=u("el-divider"),g=u("el-input"),p=u("el-form-item"),F=u("el-option"),K=u("el-select"),f=u("el-radio"),C=u("el-radio-group"),R=u("el-switch"),Ne=u("el-slider"),Ge=u("el-form"),He=u("el-button"),Je=u("el-drawer");return D(),$("div",ue,[e(Je,{"model-value":y.value,onClosed:V,title:"\u8868\u5355\u914D\u7F6E"},{footer:l(()=>[U("div",Re,[e(He,{onClick:o[19]||(o[19]=t=>y.value=!1)},{default:l(()=>[De]),_:1})])]),default:l(()=>[e(Ge,{model:a,"label-width":180,"label-position":"left"},{default:l(()=>[e(b,{"content-position":"left"},{default:l(()=>[se]),_:1}),e(p,{label:"\u8868\u5355\u540D\u79F0",prop:"name"},{default:l(()=>[e(g,{modelValue:a.name,"onUpdate:modelValue":o[0]||(o[0]=t=>a.name=t),clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"\u63D0\u4EA4\u5730\u5740",prop:"url"},{default:l(()=>[e(g,{modelValue:a.url,"onUpdate:modelValue":o[1]||(o[1]=t=>a.url=t),clearable:""},null,8,["modelValue"])]),_:1}),e(b,{"content-position":"left"},{default:l(()=>[ie]),_:1}),e(p,{label:"\u6807\u7B7E\u957F\u5EA6"},{default:l(()=>[e(g,{modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=t=>i.value=t),type:"number",clearable:"",onInput:o[5]||(o[5]=t=>v(t,d.value))},{append:l(()=>[e(K,{modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=t=>d.value=t),placeholder:"\u5355\u4F4D",style:{width:"80px"},onChange:o[3]||(o[3]=t=>v(i.value,t))},{default:l(()=>[e(F,{label:"%",value:"%"}),e(F,{label:"px",value:"px"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u6807\u7B7E\u4F4D\u7F6E",prop:"props.labelPosition"},{default:l(()=>[e(C,{modelValue:a.props.labelPosition,"onUpdate:modelValue":o[6]||(o[6]=t=>a.props.labelPosition=t)},{default:l(()=>[e(f,{label:"left"},{default:l(()=>[pe]),_:1}),e(f,{label:"right"},{default:l(()=>[re]),_:1}),e(f,{label:"top"},{default:l(()=>[me]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u6807\u7B7E\u7684\u540E\u7F00",prop:"props.labelSuffix"},{default:l(()=>[e(g,{modelValue:a.props.labelSuffix,"onUpdate:modelValue":o[7]||(o[7]=t=>a.props.labelSuffix=t),clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"\u7EA2\u8272\u661F\u53F7",prop:"props.hideRequiredAsterisk"},{default:l(()=>[e(R,{modelValue:a.props.hideRequiredAsterisk,"onUpdate:modelValue":o[8]||(o[8]=t=>a.props.hideRequiredAsterisk=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u661F\u53F7\u4F4D\u7F6E",prop:"props.requireAsteriskPosition"},{default:l(()=>[e(C,{modelValue:a.props.requireAsteriskPosition,"onUpdate:modelValue":o[9]||(o[9]=t=>a.props.requireAsteriskPosition=t)},{default:l(()=>[e(f,{label:"left"},{default:l(()=>[fe]),_:1}),e(f,{label:"right"},{default:l(()=>[ce]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u9519\u8BEF\u4FE1\u606F",prop:"props.showMessage"},{default:l(()=>[e(R,{modelValue:a.props.showMessage,"onUpdate:modelValue":o[10]||(o[10]=t=>a.props.showMessage=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u884C\u5185\u9519\u8BEF\u4FE1\u606F",prop:"props.inlineMessage"},{default:l(()=>[e(R,{modelValue:a.props.inlineMessage,"onUpdate:modelValue":o[11]||(o[11]=t=>a.props.inlineMessage=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u53CD\u9988\u56FE\u6807",prop:"props.statusIcon"},{default:l(()=>[e(R,{modelValue:a.props.statusIcon,"onUpdate:modelValue":o[12]||(o[12]=t=>a.props.statusIcon=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u7ACB\u5373\u89E6\u53D1\u9A8C\u8BC1",prop:"props.validateOnRuleChange"},{default:l(()=>[e(R,{modelValue:a.props.validateOnRuleChange,"onUpdate:modelValue":o[13]||(o[13]=t=>a.props.validateOnRuleChange=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u7EC4\u4EF6\u5C3A\u5BF8",prop:"props.size"},{default:l(()=>[e(C,{modelValue:a.props.size,"onUpdate:modelValue":o[14]||(o[14]=t=>a.props.size=t)},{default:l(()=>[e(f,{label:"large"},{default:l(()=>[_e]),_:1}),e(f,{label:"default"},{default:l(()=>[be]),_:1}),e(f,{label:"small"},{default:l(()=>[ve]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u9519\u8BEF\u8868\u5355\u9879",prop:"props.scrollToError"},{default:l(()=>[e(R,{modelValue:a.props.scrollToError,"onUpdate:modelValue":o[15]||(o[15]=t=>a.props.scrollToError=t)},null,8,["modelValue"])]),_:1}),e(b,{"content-position":"left"},{default:l(()=>[ge]),_:1}),e(p,{label:"\u6805\u683C\u95F4\u9694",prop:"layout.gutter"},{default:l(()=>[e(Ne,{modelValue:a.layout.gutter,"onUpdate:modelValue":o[16]||(o[16]=t=>a.layout.gutter=t),min:4,max:24,style:{width:"90%"}},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6C34\u5E73\u6392\u5217\u65B9\u5F0F",prop:"layout.justify"},{default:l(()=>[e(C,{modelValue:a.layout.justify,"onUpdate:modelValue":o[17]||(o[17]=t=>a.layout.justify=t)},{default:l(()=>[e(f,{label:"start"},{default:l(()=>[Ve]),_:1}),e(f,{label:"end"},{default:l(()=>[ye]),_:1}),e(f,{label:"center"},{default:l(()=>[he]),_:1}),e(f,{label:"space-around"},{default:l(()=>[ke]),_:1}),e(f,{label:"space-between"},{default:l(()=>[we]),_:1}),e(f,{label:"space-evenly"},{default:l(()=>[Ce]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u5782\u76F4\u6392\u5217\u65B9\u5F0F",prop:"layout.align"},{default:l(()=>[e(C,{modelValue:a.layout.align,"onUpdate:modelValue":o[18]||(o[18]=t=>a.layout.align=t)},{default:l(()=>[e(f,{label:"top"},{default:l(()=>[Ue]),_:1}),e(f,{label:"middle"},{default:l(()=>[xe]),_:1}),e(f,{label:"bottom"},{default:l(()=>[Ie]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])])}}});var Pe=z(Me,[["__scopeId","data-v-1fdfdafa"]]);const ze={class:"config-container"},je={style:{flex:"auto"}},qe=s("\u53D6\u6D88"),Ae=s("\u4FDD\u5B58"),Ee=M({name:"FormItemConfigDrawer",emits:["save"],setup(c,{expose:r,emit:n}){const _=x(!1),d=A(O({id:""},E)),i=a=>{P("open set",a),d.id=a.id,Object.keys(E).forEach(m=>{d[m]=a[m]}),_.value=!0},y=()=>{const a=W.cloneDeep(d);n("save",a),_.value=!1,P("form item config save",a)};return r({open:i}),nl([d],()=>{P("itemConfig",d)}),(a,m)=>{const V=u("el-button"),v=u("el-drawer");return D(),$("div",ze,[e(v,{"model-value":_.value,onClosed:m[2]||(m[2]=h=>_.value=!1),title:"\u8868\u5355\u9879\u914D\u7F6E"},{footer:l(()=>[U("div",je,[e(V,{onClick:m[1]||(m[1]=h=>_.value=!1)},{default:l(()=>[qe]),_:1}),e(V,{type:"primary",onClick:y},{default:l(()=>[Ae]),_:1})])]),default:l(()=>[e(sl,{modelValue:d,"onUpdate:modelValue":m[0]||(m[0]=h=>Q(d)?d.value=h:null)},null,8,["modelValue"])]),_:1},8,["model-value"])])}}});var Fe=z(Ee,[["__scopeId","data-v-5f306d95"]]);const Oe=M({name:"PreviewFrom",props:{config:null},setup(c,{expose:r}){const n=c,_=x(!1),d=A({}),i=x();return r({open:()=>{_.value=!0}}),(y,a)=>{const m=u("DynamicForm"),V=u("el-dialog");return D(),j(V,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=v=>_.value=v),title:"\u8868\u5355\u9884\u89C8\u6548\u679C"},{default:l(()=>[e(m,X(n.config,{ref_key:"formRef",ref:i,model:d}),null,16,["model"])]),_:1},8,["modelValue"])}}}),Se=c=>(H("data-v-83f9f6b0"),c=c(),J(),c),We={class:"header"},Ke=Se(()=>U("span",null,"\u8868\u5355",-1)),$e=s("\u914D\u7F6E\u8868\u5355"),Te=s("\u67E5\u770B\u6548\u679C"),Be=s("\u67E5\u770B\u914D\u7F6E"),Le=M({name:"index",setup(c){const r=A({}),n=A({name:"form",url:"",layout:{gutter:20,justify:"start",align:"top"},props:{labelWidth:80,labelPosition:"top",size:"default"},fields:[O({id:"default"},E)]}),_=x(),d=x(),i=x(),y=o=>{const b=n.fields.findIndex(g=>g.id==o.id);n.fields.splice(b,1,o)},a=o=>{const b=n.fields.find(g=>g.id==o);if(b)d.value.open(W.cloneDeep(b));else throw new Error(`not fond item by id ${o}`)},m=o=>{const b=n.fields.findIndex(p=>p.id==o),g=W.cloneDeep(n.fields[b]);g.id=q(),g.name=q(),n.fields.push(O({},g))},V=o=>{const b=n.fields.findIndex(g=>g.id==o);n.fields.splice(b,1)},v=()=>{i.value.open(n)},h=()=>{P("dynamic form config",n)};return dl(Z,n.fields),(o,b)=>{const g=u("iconify-icon"),p=u("el-button"),F=u("el-form"),K=u("el-card"),f=u("page-view");return D(),j(f,{class:"container",gutter:0,"bg-color":!1},{default:l(()=>[e(de),e(K,{shadow:"always",class:"form-container"},{header:l(()=>[U("div",We,[e(g,{icon:"ant-design:form-outlined",size:25}),Ke,e(p,{type:"primary",onClick:b[0]||(b[0]=C=>_.value.open())},{default:l(()=>[$e]),_:1}),e(p,{onClick:v},{default:l(()=>[Te]),_:1}),e(p,{onClick:h},{default:l(()=>[Be]),_:1})])]),default:l(()=>[e(F,X(n.props,{model:r}),{default:l(()=>[e(S(N),{tag:"el-row",group:"component",list:n.fields,"item-key":"id","component-data":n.layout},{item:l(({element:C})=>[e(w,{"model-value":r[C.name],config:C,onSet:a,onCopy:m,onRemove:V,"onUpdate:modelValue":R=>r[C.name]=R},null,8,["model-value","config","onUpdate:modelValue"])]),_:1},8,["list","component-data"])]),_:1},16,["model"])]),_:1}),e(Pe,{modelValue:n,"onUpdate:modelValue":b[1]||(b[1]=C=>Q(n)?n.value=C:null),ref_key:"formConfigDrawerRef",ref:_},null,8,["modelValue"]),e(Fe,{ref_key:"formItemDrawerRef",ref:d,onSave:y},null,512),e(Oe,{config:n,ref_key:"previewFromRef",ref:i},null,8,["config"])]),_:1})}}});Y=z(Le,[["__scopeId","data-v-83f9f6b0"]])});export{pl as __tla,Y as default};

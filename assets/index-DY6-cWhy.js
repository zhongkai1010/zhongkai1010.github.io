import{_ as K}from"./index-DWvwq9vJ.js";import{d as L,bU as W,r as a,N as D,T as Z,R as X,c as h,o as y,e as u,b as n,a7 as j,w as s,a5 as $,ex as Y,p as O,a1 as F,h as r,t as c,u as V,aD as I,bT as ee,f as te,a6 as le,eF as oe,U as se,F as ae}from"./index-CrqWW_BJ.js";import{_ as ne}from"./index-CvmJHak0.js";function re(i){var v;const{top:m,left:f}=i.getBoundingClientRect(),{scrollY:e,scrollX:g}=(v=i.ownerDocument.defaultView)!=null?v:{};return{top:m+(e!=null?e:0),left:f+(g!=null?g:0)}}function Q(i,m,f){const e=["ele-tour-popover"];return m&&e.push("ele-tour-modal"),f&&f.popperClass&&typeof f.popperClass=="string"&&e.push(f.popperClass),{trigger:"click",placement:"top",teleported:!1,width:m?440:290,transition:"ele-tour-fast",persistent:!1,effect:"light",isPopover:!0,gpuAcceleration:!0,...f,visible:i!=null?i:!1,popperClass:e.join(" ")}}function ue(i){typeof i.scrollIntoViewIfNeeded=="function"?i.scrollIntoViewIfNeeded(!0):i.scrollIntoView({behavior:"instant",block:"nearest"})}const ie={modelValue:Number,steps:{type:Array,required:!0},mask:{type:Boolean,default:!0},padding:{type:Number,default:6},zIndex:Number,locale:Object},pe={"update:modelValue":i=>!0},de={key:0,class:"ele-tour-title"},fe={class:"ele-tour-text"},me={class:"ele-tour-footer"},ve={class:"ele-tour-counter"},ce={class:"ele-tour-action"},ye=L({name:"EleTour",__name:"index",props:ie,emits:pe,setup(i,{expose:m,emit:f}){const e=i,g=f,{lang:v}=W("tour",e),z=a(null),_=a(null),w=D({}),k=a(!1),p=D(null),A=a(!1),R=a({}),x=a(!1),S=()=>{var T;if(!e.steps||e.modelValue==null||e.modelValue<0||e.modelValue>=e.steps.length){B();return}if(p.value=e.steps[e.modelValue],!p.value)return;A.value=e.modelValue===e.steps.length-1;const{mask:o,popoverProps:P,target:b,padding:U}=p.value;x.value=o!=null?o:e.mask;const d=typeof b=="function"?b():b;if(d){ue(d);const{width:q,height:G}=d.getBoundingClientRect(),{top:H,left:J}=re(d),N=(T=U!=null?U:e.padding)!=null?T:0;R.value={width:q+N+N+"px",height:G+N+N+"px",top:H-N+"px",left:J-N+"px"}}else R.value={width:"0px",height:"0px",top:"50%",left:"50%"};k.value=!0,w.value=Q(!0,!d,P),se(()=>{t()})},B=()=>{k.value=!1,R.value={},p.value=null,x.value=!1,w.value=Q()},C=o=>{g("update:modelValue",o)},E=()=>{e.modelValue!=null&&e.steps!=null&&e.steps.length&&e.modelValue>0&&C(e.modelValue-1)},M=()=>{e.modelValue!=null&&e.steps!=null&&e.steps.length&&e.modelValue<e.steps.length-1&&C(e.modelValue+1)},l=()=>{C(null)},t=()=>{_.value&&_.value.updatePopper()};return Z(()=>{S()}),X(()=>e.modelValue,()=>{S()}),m({tooltipRef:_}),(o,P)=>(y(),h(oe,{to:"body"},[u("div",{class:le(["ele-tour",{"show-mask":x.value},{"is-open":k.value}]),style:j({zIndex:o.zIndex})},[u("div",{class:"ele-tour-box",style:j(R.value)},null,4),u("div",{ref_key:"triggerRef",ref:z,class:"ele-tour-reference",style:j(R.value)},null,4),n(te,ee(w.value,{ref_key:"tooltipRef",ref:_,virtualRef:z.value,virtualTriggering:!0,disabled:!k.value,hideAfter:0}),{body:s(()=>[o.steps&&p.value?(y(),h(Y,{key:0,class:"ele-popover-body"},{default:s(()=>[p.value.title?(y(),O("div",de,[F(o.$slots,"title",{step:p.value,current:o.modelValue},()=>[r(c(p.value.title),1)])])):$("",!0),u("div",fe,[F(o.$slots,"text",{step:p.value,current:o.modelValue},()=>[r(c(p.value.description),1)])]),F(o.$slots,"footer",{step:p.value,current:o.modelValue},()=>[u("div",me,[u("div",ve,c((o.modelValue||0)+1)+"/"+c(o.steps.length),1),u("div",ce,[A.value?$("",!0):(y(),h(V(I),{key:0,size:"small",onClick:l},{default:s(()=>[r(c(V(v).skip),1)]),_:1})),o.modelValue!==0?(y(),h(V(I),{key:1,size:"small",onClick:E},{default:s(()=>[r(c(V(v).prev),1)]),_:1})):$("",!0),A.value?$("",!0):(y(),h(V(I),{key:2,size:"small",type:"primary",onClick:M},{default:s(()=>[r(c(V(v).next),1)]),_:1})),A.value?(y(),h(V(I),{key:3,size:"small",type:"primary",onClick:l},{default:s(()=>[r(c(V(v).finish),1)]),_:1})):$("",!0)])])])]),_:3})):$("",!0)]),_:3},16,["virtualRef","disabled"])],6)]))}}),ge={style:{"margin-top":"20px"}},_e={style:{"margin-top":"20px"}},Ve={style:{"margin-top":"20px"}},be=L({name:"ExtensionTour",__name:"index",setup(i){const m=a(),f=a(null),e=a(null),g=a(null),v=a([{target:()=>{var l;return(l=f.value)==null?void 0:l.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可."},{target:()=>{var l;return(l=e.value)==null?void 0:l.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台."},{target:()=>{var l;return(l=g.value)==null?void 0:l.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能."}]),z=()=>{m.value=0},_=a(),w=a(null),k=a(null),p=a(null),A=a([{target:()=>{var l;return(l=w.value)==null?void 0:l.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可.",popoverProps:{placement:"top-start"}},{target:()=>{var l;return(l=k.value)==null?void 0:l.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台.",popoverProps:{placement:"bottom"}},{target:()=>{var l;return(l=p.value)==null?void 0:l.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能.",popoverProps:{placement:"top-end"}}]),R=()=>{_.value=0},x=a(),S=a(null),B=a(null),C=a(null),E=a([{title:"欢迎使用 EleAdminPlus 系统",description:"下面将为您介绍一些常用功能的操作说明, 如果之前已经为您介绍过, 您可以直接点击跳过结束指引."},{target:()=>{var l;return(l=S.value)==null?void 0:l.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可."},{target:()=>{var l;return(l=B.value)==null?void 0:l.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台.",mask:!1},{target:()=>{var l;return(l=C.value)==null?void 0:l.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能."}]),M=()=>{x.value=0};return(l,t)=>{const o=I,P=ye,b=ne,U=K;return y(),h(U,null,{default:s(()=>[n(b,{header:"基本用法"},{default:s(()=>[u("div",null,[n(o,{type:"primary",onClick:z},{default:s(()=>t[3]||(t[3]=[r("开始引导")])),_:1})]),u("div",ge,[n(o,{ref_key:"uploadRef1",ref:f},{default:s(()=>t[4]||(t[4]=[r("Upload")])),_:1},512),n(o,{ref_key:"saveRef1",ref:e,type:"primary"},{default:s(()=>t[5]||(t[5]=[r("Save")])),_:1},512),n(o,{ref_key:"moreRef1",ref:g},{default:s(()=>t[6]||(t[6]=[r("More")])),_:1},512)]),n(P,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=d=>m.value=d),steps:v.value},null,8,["modelValue","steps"])]),_:1}),n(b,{header:"不带遮罩层"},{default:s(()=>[u("div",null,[n(o,{type:"primary",onClick:R},{default:s(()=>t[7]||(t[7]=[r("开始引导")])),_:1})]),u("div",_e,[n(o,{ref_key:"uploadRef2",ref:w},{default:s(()=>t[8]||(t[8]=[r("Upload")])),_:1},512),n(o,{ref_key:"saveRef2",ref:k,type:"primary"},{default:s(()=>t[9]||(t[9]=[r("Save")])),_:1},512),n(o,{ref_key:"moreRef2",ref:p},{default:s(()=>t[10]||(t[10]=[r("More")])),_:1},512)]),n(P,{modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=d=>_.value=d),steps:A.value,mask:!1},null,8,["modelValue","steps"])]),_:1}),n(b,{header:"混合弹窗等多种形式"},{default:s(()=>[u("div",null,[n(o,{type:"primary",onClick:M},{default:s(()=>t[11]||(t[11]=[r("开始引导")])),_:1})]),u("div",Ve,[n(o,{ref_key:"uploadRef3",ref:S},{default:s(()=>t[12]||(t[12]=[r("Upload")])),_:1},512),n(o,{ref_key:"saveRef3",ref:B,type:"primary"},{default:s(()=>t[13]||(t[13]=[r("Save")])),_:1},512),n(o,{ref_key:"moreRef3",ref:C},{default:s(()=>t[14]||(t[14]=[r("More")])),_:1},512)]),n(P,{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=d=>x.value=d),steps:E.value},{text:s(({step:d,current:T})=>[T===0?(y(),O(ae,{key:0},[t[15]||(t[15]=u("div",{style:{"margin-bottom":"10px"}},[u("img",{src:"https://gw.alipayobjects.com/mdn/rms_08e378/afts/img/A*P0S-QIRUbsUAAAAAAAAAAABkARQnAQ",style:{height:"184px",width:"100%","object-fit":"cover"}})],-1)),u("div",null,c(d.description),1)],64)):$("",!0)]),_:1},8,["modelValue","steps"])]),_:1})]),_:1})}}});export{be as default};
